webpackJsonp([207],{1006:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(100),i=o.n(a),n=o(99),s=o.n(n),l=o(64),r=o(65);o.n(r);e.default={data:function(){return{loading:!1,title:"",titleList:["代理人详情","消费提成详情","推荐奖详情","特殊增扣款详情"],mes:{},dialogFormVisible:!1,total:0,size:10,currentPage:1,HospitalList:[],formInline:{formHospital:"",toHospital:"",date:"",startTime:"",endTime:""},agentList:[],tableData:[],allData:[],sum:{fromAmountOut:0,toAmountOut:0}}},computed:{},mounted:function(){var t=new Date,e=new Date;e.setDate(1),this.formInline.date=[e,t],this.getSupplierByPage()},methods:{getSummaries:function(){return["总合计","","",this.sum.fromAmountOut.toQFW(),"","",this.sum.toAmountOut.toQFW(),""]},GetCrossHospitalDetail:function(a){var n=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.loading=!0,t.prev=1,t.next=4,o.i(l._494)(a);case 4:e=t.sent,n.loading=!1,n.total=e.count,n.allData=e.data,n.pageChange(),n.getTotal(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),console.log(t.t0);case 15:case"end":return t.stop()}},t,n,[[1,12]])}))()},pageChange:function(){this.tableData=this.allData.slice((this.currentPage-1)*this.size,this.currentPage*this.size)},getTotal:function(){var e=this;this.allData.forEach(function(t){t.fromAmount=null!=t.fromAmount?t.fromAmount:0,t.toAmount=null!=t.toAmount?t.toAmount:0,e.sum.fromAmountOut=e.sum.fromAmountOut.add(t.fromAmount),e.sum.toAmountOut=e.sum.toAmountOut.add(t.toAmount)})},handleSizeChange:function(t){this.size=t,this.pageChange()},handleCurrentChange:function(t){this.currentPage=t,this.pageChange()},getSupplierByPage:function(){var a=this;return s()(i.a.mark(function t(){var e;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={startdate:"",enddate:"",suppliername:"",suptypecode:"",phonenumber:"",pageindex:1,pagesize:999},t.next=3,o.i(l.x)(e);case 3:a.HospitalList=t.sent;case 4:case"end":return t.stop()}},t,a)}))()},submit:function(){this.currentPage=1,this.search()},search:function(){this.sum={fromAmountOut:0,toAmountOut:0},this.GetCrossHospitalDetail({FromHospitalId:this.formInline.formHospital,toHospitalId:this.formInline.toHospital,startdate:this.formInline.startTime,enddate:this.formInline.endTime})},dateForm1:function(t){t?(t=t.formatDates(),this.formInline.startTime=t.substring(0,10),this.formInline.endTime=t.substring(13)):(this.formInline.startTime="",this.formInline.endTime="")}},components:{}}},1276:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,"",""])},1701:function(t,e,a){var n=a(1276);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("8106dfc6",n,!0)},2173:function(t,e){t.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settled selCommon"},[a("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:e.formInline,"label-width":"80px"}},[a("el-form-item",{staticClass:"form_item_mt10 ",attrs:{label:"时间范围："}},[a("el-date-picker",{staticClass:"wt200",attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:e.dateForm1},model:{value:e.formInline.date,callback:function(t){e.$set(e.formInline,"date",t)},expression:"formInline.date"}})],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"来源医院："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},on:{change:e.submit},model:{value:e.formInline.formHospital,callback:function(t){e.$set(e.formInline,"formHospital",t)},expression:"formInline.formHospital"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.HospitalList,function(t){return a("el-option",{key:t.Code,attrs:{label:t.SupplierName,value:t.Code}})})],2)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"转到医院："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},on:{change:e.submit},model:{value:e.formInline.toHospital,callback:function(t){e.$set(e.formInline,"toHospital",t)},expression:"formInline.toHospital"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),e._l(e.HospitalList,function(t){return a("el-option",{key:t.Code,attrs:{label:t.SupplierName,value:t.Code}})})],2)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:" "}},[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.submit}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"min_table smt",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:e.tableData,border:"","max-height":"560","show-summary":"","summary-method":e.getSummaries}},[a("el-table-column",{attrs:{prop:"fxCode",label:"报单编号","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"来源医院",prop:"fromHospitalName","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"来源医院分配比例",prop:"fromHospitalName","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(100*t.row.fromRate)+"%\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"来源医院分配金额",prop:"fromAmount","min-width":"120",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[0<t.row.fromAmount?a("span",{staticStyle:{float:"right"}},[e._v("\n                   ￥"+e._s(t.row.fromAmount.toQFW())+"\n                ")]):a("span",[e._v("￥0")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"转到医院",prop:"toHospitalName","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"转到医院分配比例",prop:"toHospitalName","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(100*t.row.toRate)+"%\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"转到医院分配金额",prop:"toAmount","min-width":"120",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[0<t.row.toAmount?a("span",{staticStyle:{float:"right"}},[e._v("\n                    ￥"+e._s(t.row.toAmount.toQFW())+"\n                ")]):a("span",[e._v("￥0")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"toHospitalName","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.isFinished?a("el-tag",{attrs:{type:"danger"}},[e._v("\n                    未结算\n                ")]):a("el-tag",{attrs:{type:"success"}},[e._v("已结算")])]}}])})],1),e._v(" "),a("div",{},[e._v("\n        共"+e._s(e.total)+"条数据\n    ")]),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},299:function(t,e,a){a(1701);var n=a(98)(a(1006),a(2173),"data-v-1e3c57eb",null);t.exports=n.exports}});