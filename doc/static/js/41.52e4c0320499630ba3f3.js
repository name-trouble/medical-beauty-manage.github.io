webpackJsonp([41],{1149:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(100),i=s.n(a),r=s(99),l=s.n(r),n=s(2095),o=s.n(n),c=s(2092),d=s.n(c),u=s(2094),m=s.n(u),p=s(22),h=(s(528),s(64)),f=s(524);s.n(f);t.default={components:{PopAdd:d.a,PopEdit:m.a,hosBind:o.a},data:function(){return{topBranchList:[],belongTop:"",belongBra:"",date:"",serviceHos:!1,addGrade:!1,loading:!1,type:"",branchList:[],tabLoading:!1,hospitalList:[],hospital:"",branch:"",ispopAdd:!1,ispopEdit:!1,userInfo:{},filterWord:"",tableData:[],selectData:[],dataCount:0,currentPage:1,pageSize:10,startData:"",endDate:"",ruleForm:{grade:"",gradeName:"",priorities:"",extractRatio:0},gradeList:[]}},watch:{"ruleForm.grade":{handler:function(t){var a=this;this.gradeList.forEach(function(e){t==e.id&&(a.ruleForm.priorities=e.priorities,a.ruleForm.extractRatio=e.extractRatio)})},deep:!0},type:{handler:function(){this.belongTop="",this.belongBra=""},deep:!0}},mounted:function(){this.getHos()},methods:{dateChange:function(e){e?(e=e.formatDates(),this.startDate=e.substring(0,10),this.endDate=e.substring(13)):(this.startDate="",this.endDate="")},dialogClose:function(e){e&&this.getUserInfo(),this.serviceHos=!1},editHos:function(e){this.userInfo=e,this.serviceHos=!0},ModifyUserGrade:function(a){var r=this;return l()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.i(h._97)(a);case 2:(t=e.sent).status?(r.$message({message:"修改成功",type:"success"}),r.addGrade=!1,r.getUserInfo()):r.$message.error("修改失败，"+t.errorMessage);case 4:case"end":return e.stop()}},e,r)}))()},changeGrade:function(e){this.userInfo=e,this.addGrade=!0,this.ruleForm.grade=e.gradeId?e.gradeId:""},submitForm:function(){this.ModifyUserGrade({userId:this.userInfo.Id,gradeId:this.ruleForm.grade,submitUserId:s.i(p.b)("userId"),submitUserName:s.i(p.b)("userName")})},resetForm:function(){this.ruleForm={grade:"",gradeName:"",priorities:"",extractRatio:0}},getHos:function(){var n=this;return l()(i.a.mark(function e(){var t,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.i(h.d)({typeId:1});case 2:return t=e.sent,e.next=5,s.i(h.d)({typeId:2});case 5:return a=e.sent,n.topBranchList=a.data,n.belongTop=n.topBranchList[0].code,n.hospitalList=t.data,n.hospital=t.data[0].code,e.next=12,s.i(h._95)();case 12:r=e.sent,n.gradeList=r.data,n.getUserInfo();case 15:case"end":return e.stop()}},e,n)}))()},getUserInfo:function(){var a=this;return l()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.tabLoading=!0,t={pageIndex:a.currentPage,pageSize:a.pageSize,keywords:a.filterWord.removeSP(),hospitalCode:a.hospital,branchCode:a.branch,typeCode:a.type,startDate:a.startDate,endDate:a.endDate,BelongedCode:a.belongBra},e.next=4,s.i(h._136)(t);case 4:a.tableData=e.sent,a.tableData[0]?a.dataCount=parseInt(a.tableData[0].RecordCount):a.dataCount=0,a.tabLoading=!1;case 7:case"end":return e.stop()}},e,a)}))()},remoteMethod:function(e){""!==e?(this.loading=!0,this.GetBranchByKeywords({keywords:e.removeSP()})):(this.branchList=[],this.branch="",this.belongBra="",this.belongTop="")},GetBranchByKeywords:function(t){var a=this;return l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.i(h._60)(t);case 3:a.branchList=e.sent,a.loading=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,a,[[0,7]])}))()},editRow:function(e){var t=this.tableData[e];for(var a in t)this.$set(this.userInfo,a,t[a]);this.ispopEdit=!0},addRow:function(){this.ispopAdd=!0},selectChange:function(e){this.selectData=e},deleteUser:function(t,a){var r=this;return l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.i(h._256)(t);case 2:1==e.sent?(r.$message({type:"success",message:"删除成功!"}),r.tableData.splice(a,1),r.getUserInfo()):r.$message({type:"warning",message:"删除失败!"});case 4:case"end":return e.stop()}},e,r)}))()},deleteRow:function(e){var t=this;this.$confirm("此操作将删除用户信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.deleteUser(t.tableData[e].Id,e)}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},pageIndexChange:function(e){this.currentPage=e,this.getUserInfo()},pageSizeChange:function(e){this.pageSize=e,this.getUserInfo()},init:function(){this.getUserInfo(),this.currentPage=1},getTypeName:function(e){return"02"==e?"代理商":"01"==e?"平台":"03"==e?"医院":"04"==e?"会员":"05"==e?"平台客服":"06"==e?"线上app会员":""}}}},1152:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(37),n=i.n(a),r=i(103),o=i.n(r),s=i(100),l=i.n(s),c=i(99),d=i.n(c),u=i(441),m=i(101),p=i(64),h=i(842),f=i.n(h),v=i(22);t.default={components:{RoleSelect:f.a},data:function(){return{action:m.b+"/api/Image/UploadImg?op=goods",acceptImage:u.b,imgUrl:"",saveLoading:!1,serviceList:[],allService:[],loading:!1,roleSelectData:[],showRole:!1,roleTags:[],roleIds:[],userNameOk:"",childList:[],service:{},data:{selHos:"",UserName:"",Realname:"",Gender:"男",Mobile:"",Email:"",Enabled:1,Description:"",TypeCode:"",branch:{},branchChild:{},isAdministrator:!0,isSpecial:0,spec:!1,imgUrl:"",createUserId:i.i(v.b)("userId"),createBy:i.i(v.b)("userName")},rules:{UserName:[{required:!0,message:"请输入用户名",trigger:"blur"}],Realname:[{required:!0,message:"请输入姓名",trigger:"blur"}],Email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],branch:[{validator:function(e,t,a){if(!t)return a(new Error("请选择组织机构"));a()},trigger:"blur"}]},organize:[],allOrganize:[{name:"平台",value:"01",sub:[{name:"平台",value:""}]},{name:"代理商",value:"02",sub:[]},{name:"医院",value:"03",sub:[]},{name:"会员",value:"04",sub:[]},{name:"平台客服",value:"05",sub:[]},{name:"线上app会员",value:"06",sub:[]}],selectedMes:[]}},watch:{"data.branch":{handler:function(){this.data.branchChild=""},deep:!0}},mounted:function(){"01"!=i.i(v.d)("typeCode")?this.organize=this.allOrganize.slice(1):this.organize=this.allOrganize,this.organizeInfo()},methods:{selBranch:function(e){this.data.BRNAME=e.name},Reset:function(){this.$refs.dataForm.resetFields()},Submit:function(){var t=this;this.$refs.dataForm.validate(function(e){if(!e)return!1;t.addUser()})},GetBranchByKeywords:function(a){var r=this;return d()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.i(p._60)(a);case 3:t=e.sent,r.loading=!1,i.i(v.b)("hospitalCode")&&(t=t.filter(function(e){return e.HospitalCode==i.i(v.b)("hospitalCode")})),t instanceof Array&&0<t.length&&t.forEach(function(e){r.childList.push({name:e.BranchName,value:e.Code,hospitalName:e.HospitalName,hospitalCode:e.HospitalCode,Phonenumber:e.PhoneNumber})}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,r,[[0,9]])}))()},hosSelect:function(e){if(this.data.selHos=e.name,"03"==this.data.branch.value){var t=[],a=!0,r=!1,n=void 0;try{for(var s,i=o()(this.allService);!(a=(s=i.next()).done);a=!0){var l=s.value;0<=l.hospitalCode.split(",").indexOf(this.data.branchChild.value)&&t.push({value:l.code,name:l.serviceName,text:l.serviceName+"("+l.code+")",serTypeCode:l.serTypeCode})}}catch(e){r=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw n}}this.serviceList=t}},serChange:function(){this.data.ServiceManCode=this.service.value,this.data.ServiceManName=this.service.name,this.data.SerTypeCode=this.service.serTypeCode},GetMembersByKeywords:function(a){var r=this;return d()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.i(p._259)(a);case 3:t=e.sent,r.loading=!1,t instanceof Array&&0<t.length&&(30<t.length&&(t=t.slice(0,30)),t.forEach(function(e){r.childList.push({name:e.MemberName,value:e.Code})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}},e,r,[[0,8]])}))()},organizeInfo:function(){var s=this;return d()(l.a.mark(function e(){var t,a,r,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p.d)({typeId:1});case 2:return t=e.sent,a=s,r=0,r="01"==i.i(v.d)("typeCode")?2:1,t.data instanceof Array&&0<t.data.length&&t.data.forEach(function(e){""!=e.code&&a.organize[r].sub.push({name:e.supplierName,value:e.code})}),e.next=8,i.i(p._15)();case 8:n=e.sent,s.allService=n.data;case 10:case"end":return e.stop()}},e,s)}))()},judgeUserName:function(){var a=this;return d()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p._264)(a.data.UserName);case 2:return t=e.sent,a.userNameOk=1!=t?"用户名重复！":"",e.abrupt("return",t);case 5:case"end":return e.stop()}},e,a)}))()},addRole:function(e){this.showRole=!1,this.roleTags=[],this.roleIds=[];var a=this;setTimeout(function(){e.forEach(function(e,t){a.roleTags.push(e.Realname),a.roleIds.push(e.Id)})},300)},setRole:function(){var r=this;return d()(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=r.data.Id,r.roleIds.forEach(function(e){t.push({UserId:a,RoleId:e})}),r.saveLoading=!0,e.next=6,i.i(p._260)(n()(t));case 6:0<e.sent?r.$message({type:"success",message:"保存成功!"}):r.$message({type:"warning",message:"保存失败!"}),r.saveLoading=!1,r.$refs.dataForm.$parent.$parent.$parent.ispopAdd=!1;case 10:case"end":return e.stop()}},e,r)}))()},addUser:function(){var r=this;return d()(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(n()(r.data))).isSpecial=t.spec?1:0,t.TypeCode=r.data.branch.value||"","02"==t.TypeCode?(t.HospitalName=r.data.branchChild.hospitalName||"",t.HospitalCode=r.data.branchChild.hospitalCode||""):t.BranchCode="",0==r.judgeUserName())return r.$message({type:"info",message:"用户名重复!"}),e.abrupt("return");e.next=7;break;case 7:return"03"==t.TypeCode&&(t.hospitalCode=t.branchChild.value||""),"04"!=t.TypeCode&&"02"!=t.TypeCode||(t.BranchCode=r.data.branchChild.value||"",t.BranchName=r.data.branchChild.name||""),t.branch="",t.branchChild="",e.prev=11,t.UserName=t.UserName.replace(/(^\s*)|(\s*$)/g,"").split(","),e.next=15,i.i(p._265)(t);case 15:(a=e.sent).status&&(r.data.Id=a.data.id,0==r.roleIds.length?r.$message({type:"success",message:"保存成功!"}):r.setRole()),r.$refs.dataForm.$parent.$parent.$parent.ispopAdd=!1,e.next=24;break;case 20:e.prev=20,e.t0=e.catch(11),r.$message({type:"warning",message:"提交失败!"}),r.$refs.dataForm.$parent.$parent.$parent.ispopAdd=!1;case 24:case"end":return e.stop()}},e,r,[[11,20]])}))()},remoteMethod:function(e){""!==e&&(this.loading=!0,this.childList=[],"02"==this.data.branch.value?this.GetBranchByKeywords({keyWords:e.removeSP()}):this.GetMembersByKeywords({keyWords:e.removeSP()}))},handleAvatarSuccess2:function(e,t){this.data.imgUrl&&this.DelImg(this.data.imgUrl),this.imgUrl=URL.createObjectURL(t.raw),this.data.imgUrl=e},beforeAvatarUpload2:function(e){var t=e.size/1024/1024<1;return t||this.$message.error("上传图片大小不能超过 1MB!"),t},DelImg:function(){var a=this;return d()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p._73)({filepath:filepath});case 2:(t=e.sent).status||a.$message({message:"原图片删除失败！"+t.errorMessage,type:"warning"});case 4:case"end":return e.stop()}},e,a)}))()}}}},1154:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(103),o=i.n(a),r=i(100),l=i.n(r),n=i(99),c=i.n(n),s=i(37),d=i.n(s),u=i(441),m=i(101),p=i(64),h=i(842),f=i.n(h),v=i(22);t.default={props:{dataEdit:Object},components:{roleSelect:f.a},mounted:function(){"01"!=i.i(v.d)("typeCode")?this.organize=this.allOrganize.slice(1):this.organize=this.allOrganize,this.dataForm=JSON.parse(d()(this.dataEdit)),this.spec=1==this.dataEdit.IsSpecial,this.getRole(),this.organizeInfo()},data:function(){return{action:m.b+"/api/Image/UploadImg?op=goods",acceptImage:u.b,ImgUrl:"",spec:!1,saveLoading:!1,serviceList:[],allService:[],service:{},dataForm:{service:""},loading:!1,roleSelectData:[],showRole:!1,roleTags:[],roleIds:[],childList:[],selectedMes:[],rules:{UserName:[{required:!0,message:"请输入用户名",trigger:"blur"}],Realname:[{required:!0,message:"请输入姓名",trigger:"blur"}],Email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],pass:[{validator:this.validatePass,trigger:"blur"}],checkPass:[{validator:this.validatePassCheck,trigger:"blur"}]},allOrganize:[{name:"平台",value:"01",sub:[{name:"平台",value:""}]},{name:"代理商",value:"02",sub:[]},{name:"医院",value:"03",sub:[]},{name:"会员",value:"04",sub:[]},{name:"平台客服",value:"05",sub:[]},{name:"线上app会员",value:"06",sub:[]},{name:"服务商",value:"07",sub:[]}],organize:[],Btime:0,Stime:0,orgChild:[],branch:"",branchChild:{}}},watch:{dataEdit:{handler:function(){this.dataForm=JSON.parse(d()(this.dataEdit)),this.init()},deep:!0},branch:{handler:function(t){var a=this;0==this.Btime?this.Btime=1:(this.branchChild="",this.childList=[]),this.organize.forEach(function(e){t.value==e.value&&(a.orgChild=e.sub)})},deep:!0}},methods:{selBranch:function(e){this.dataForm.BRNAME=e.name},branchCha:function(e){this.dataForm.platformName=e.name,this.dataForm.BRNAME=null,this.dataForm.selHos=null,this.dataForm.ServiceManCode=null},GetBranchByKeywords:function(n){var s=this;return c()(l.a.mark(function e(){var t,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.i(p._60)(n);case 3:for(t=e.sent,s.loading=!1,a=30<=t.length?30:t.length,r=0;r<a;r++)s.childList.push({name:t[r].BranchName,value:t[r].Code,hospitalName:t[r].HospitalName,hospitalCode:t[r].HospitalCode,PhoneNumber:t[r].PhoneNumber});e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,s,[[0,9]])}))()},GetMembersByKeywords:function(n){var s=this;return c()(l.a.mark(function e(){var t,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.i(p._259)(n);case 3:for(t=e.sent,s.loading=!1,i.i(v.b)("hospitalCode")&&(t=t.filter(function(e){return e.HospitalCode==i.i(v.b)("hospitalCode")})),a=30<=t.length?30:t.length,r=0;r<a;r++)s.childList.push({name:t[r].MemberName,value:t[r].Code});e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,s,[[0,10]])}))()},hosSelect:function(e){if(this.dataForm.selHos=e.name,"03"==this.branch.value){var t=[],a=!0,r=!(this.service={}),n=void 0;try{for(var s,i=o()(this.allService);!(a=(s=i.next()).done);a=!0){var l=s.value;0<=l.hospitalCode.split(",").indexOf(this.branchChild.value)&&t.push({value:l.code,name:l.serviceName,text:l.serviceName+"("+l.code+")",serTypeCode:l.serTypeCode}),this.dataForm.ServiceManCode==l.code&&0==this.Stime&&(this.service={value:l.code,name:l.serviceName,text:l.serviceName+"("+l.code+")",serTypeCode:l.serTypeCode},this.Stime=1)}}catch(e){r=!0,n=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw n}}this.serviceList=t}},serChange:function(){""!=this.service&&(this.dataForm.ServiceManCode=this.service.value,this.dataForm.ServiceManName=this.service.name,this.dataForm.SerTypeCode=this.service.serTypeCode)},remoteMethod:function(e){this.childList=[],""!==e&&(this.loading=!0,"02"==this.branch.value?this.GetBranchByKeywords({keyWords:e.removeSP()}):this.GetMembersByKeywords({keyWords:e.removeSP()}))},Cancel:function(){this.$refs.dataForm.$parent.$parent.$parent.ispopEdit=!1},Submit:function(){var a=this;this.$refs.dataForm.validate(function(e){var t=!0;a.dataForm.platformName||(t=!1),"01"!=a.branch.value||a.dataForm.selHos||(t=!1),"02"!=a.branch.value&&"04"!=a.branch.value||a.dataForm.BRNAME||(t=!1),"03"!=a.branch.value||a.dataForm.selHos&&a.dataForm.ServiceManCode||(t=!1),t?e&&a.updateUser():a.$message({type:"warning",message:"组织机构填写不完整!"})})},init:function(){var t=this;this.ImgUrl=this.dataForm.ImgUrl?m.b+this.dataForm.ImgUrl:"";var e=this.dataForm,a=0;a="01"==i.i(v.d)("typeCode")?2:1,this.branch={name:this.dataForm.TypeName,value:this.dataForm.TypeCode},this.branchCha(this.branch),setTimeout(function(){"01"==t.dataForm.TypeCode&&(t.branchChild=t.organize[0].sub[0],t.hosSelect(t.branchChild)),"02"==t.dataForm.TypeCode&&(t.branchChild={name:e.BranchName,value:e.BranchCode,hospitalName:e.HospitalName,hospitalCode:e.HospitalCode},t.childList.push(t.branchChild),t.selBranch(t.branchChild)),"04"==t.dataForm.TypeCode&&(t.branchChild={name:e.BranchName,value:e.BranchCode},t.childList.push(t.branchChild),t.selBranch(t.branchChild)),"03"==t.dataForm.TypeCode&&t.organize[a].sub.forEach(function(e){e.value==t.dataForm.HospitalCode&&(t.branchChild=e,t.hosSelect(t.branchChild))})},50)},addRole:function(e){this.showRole=!1,this.roleTags=[],this.roleIds=[];var a=this;setTimeout(function(){e.forEach(function(e,t){a.roleTags.push(e.Realname),a.roleIds.push(e.Id)})},300)},setRole:function(){var n=this;return c()(l.a.mark(function e(){var t,a,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=n.dataForm.Id,n.roleIds.forEach(function(e){t.push({UserId:a,RoleId:e})}),n.saveLoading=!0,e.next=6,i.i(p._260)(d()(t));case 6:r=e.sent,n.saveLoading=!1,0<r?n.$message({type:"success",message:"保存成功!"}):n.$message({type:"warning",message:"权限保存失败!"}),n.$refs.dataForm.$parent.$parent.$parent.ispopEdit=!1;case 10:case"end":return e.stop()}},e,n)}))()},handleClose:function(e){this.roleTags.splice(this.roleTags.indexOf(e),1)},organizeInfo:function(){var s=this;return c()(l.a.mark(function e(){var t,a,r,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p.d)({typeId:1});case 2:return t=e.sent,a=s,r=0,r="01"==i.i(v.d)("typeCode")?2:1,t.data instanceof Array&&0<t.data.length&&t.data.forEach(function(e){""!=e.code&&a.organize[r].sub.push({name:e.supplierName,value:e.code})}),e.next=8,i.i(p._15)();case 8:n=e.sent,s.allService=n.data,s.init();case 11:case"end":return e.stop()}},e,s)}))()},updateUser:function(){var r=this;return c()(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t in r.dataForm.IsSpecial=r.spec?1:0,r.dataForm.TypeCode=r.branch.value||"",r.dataForm.BranchCode=r.branchChild.value||"",r.dataForm.pass==r.dataForm.checkPass?r.dataForm.UserPassword=r.dataForm.pass:r.$message({type:"info",message:"密码不一致!"}),"03"==r.dataForm.TypeCode||"02"==r.dataForm.TypeCode?"03"==r.dataForm.TypeCode?(r.dataForm.HospitalName=r.branchChild.name||"",r.dataForm.HospitalCode=r.branchChild.value||""):(r.dataForm.HospitalName=r.branchChild.hospitalName||"",r.dataForm.HospitalCode=r.branchChild.hospitalCode||""):(r.dataForm.HospitalName="",r.dataForm.HospitalCode=""),"04"==r.dataForm.TypeCode||"02"==r.dataForm.TypeCode?(r.dataForm.BranchCode=r.branchChild.value||"",r.dataForm.BranchName=r.branchChild.name?r.branchChild.name.split("|")[0]:""):(r.dataForm.BranchCode="",r.dataForm.BranchName=""),r.dataForm)null==r.dataForm[t]&&(r.dataForm[t]="");return r.dataForm.modifiedUserId=i.i(v.b)("userId"),r.dataForm.modifiedUserName=i.i(v.b)("userName"),e.prev=9,r.dataForm.UserName=r.dataForm.UserName.replace(/(^\s*)|(\s*$)/g,""),e.next=13,i.i(p._261)(r.dataForm);case 13:(a=e.sent).status?0==r.roleIds.length?(r.$message({type:"success",message:"保存成功!"}),r.$refs.dataForm.$parent.$parent.$parent.ispopEdit=!1):r.setRole():r.$message({type:"warning",message:"保存失败!"+a.errorMessage}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0),r.$message({type:"warning",message:"保存失败!"});case 21:case"end":return e.stop()}},e,r,[[9,17]])}))()},getRole:function(){var r=this;return c()(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p._262)(r.dataForm.Id);case 2:if(t=e.sent,r.roleTags=[],a=r,0==t.length)return e.abrupt("return");e.next=7;break;case 7:t.forEach(function(e){a.roleTags.push(e.RoleName),a.roleSelectData.push(e.RoleId)});case 8:case"end":return e.stop()}},e,r)}))()},validatePass:function(e,t,a){""!==this.dataForm.checkPass&&this.$refs.dataForm.validateField("checkPass"),a()},validatePassCheck:function(e,t,a){""!==this.dataForm.pass?""===t?a(new Error("请再次输入密码")):t!==this.dataForm.pass?a(new Error("两次输入密码不一致!")):a():""!==t?a(new Error("两次输入密码不一致!")):a(),a()},handleAvatarSuccess2:function(e,t){this.dataForm.ImgUrl&&this.DelImg(this.dataForm.ImgUrl),this.ImgUrl=URL.createObjectURL(t.raw),this.dataForm.ImgUrl=e},beforeAvatarUpload2:function(e){var t=e.size/1024/1024<1;return t||this.$message.error("上传图片大小不能超过 1MB!"),t},DelImg:function(){var a=this;return c()(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i(p._73)({filepath:filepath});case 2:(t=e.sent).status||a.$message({message:"原图片删除失败！"+t.errorMessage,type:"warning"});case 4:case"end":return e.stop()}},e,a)}))()}}}},1155:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n=r(37),s=r.n(n),i=r(100),l=r.n(i),o=r(99),c=r.n(o),d=r(443),u=r.n(d),m=r(64),p=r(22);t.default=(a={props:{onFinish:Function},data:function(){var e;return e={hosList:[],hosChecked:[],checkAll:!1},u()(e,"hosList",[]),u()(e,"isIndeterminate",!1),e},watch:{}},u()(a,"props",{userInfo:{}}),u()(a,"mounted",function(){this.getData()}),u()(a,"methods",{getData:function(){var t=this;return c()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.i(m.a)({SupTypeCode:"001,002,003"});case 2:t.hosList=e.sent,t.GetServiceManHospital({ServiceManCode:t.userInfo.Id});case 4:case"end":return e.stop()}},e,t)}))()},handleCheckAllChange:function(e){e.target.checked?this.hosChecked=this.hosList:this.hosChecked=[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.hosList.length,this.isIndeterminate=0<t&&t<this.hosList.length},sure:function(){var t=this,a=[];this.hosChecked.forEach(function(e){a.push({ServiceManCode:t.userInfo.Id,ServiceManName:t.userInfo.ServiceManName,hospitalCode:e.Code,hospitalName:e.SupplierName,createUserId:r.i(p.b)("userId"),createUserName:r.i(p.b)("userName")})}),this.AddServiceManHospital({jsonStr:s()(a),code:this.userInfo.Id})},cancel:function(){this.serviceHos=!1,this.hosChecked=[],this.checkAll=!1,this.$emit("dialogClose",!1)},AddServiceManHospital:function(t){var a=this;return c()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.i(m._257)(t);case 2:e.sent.status?(a.$message({type:"success",message:"保存成功!"}),a.$emit("dialogClose",!0)):a.$message({type:"error",message:"保存失败!"}),a.serviceHos=!1;case 5:case"end":return e.stop()}},e,a)}))()},GetServiceManHospital:function(t){var a=this;return c()(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.hosChecked=[],e.next=3,r.i(m._258)(t);case 3:e.sent.data.forEach(function(t){a.hosList.forEach(function(e){t.hospitalCode==e.Code&&a.hosChecked.push(e)})}),a.hosChecked.length==a.hosList.length&&(a.checkAll=!0,a.isIndeterminate=!1),0==a.hosChecked.length&&(a.isIndeterminate=!1);case 7:case"end":return e.stop()}},e,a)}))()}}),a)},1156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(100),n=a.n(r),s=a(99),i=a.n(s),l=a(64);t.default={props:{addClick:Function,data:Array},data:function(){return{loading:!1,filterWord:"",tableData:[],selectData:[]}},mounted:function(){this.getRoleInfo()},methods:{toggleSelection:function(){if(this.$refs.roleTable.clearSelection(),0!=this.data.length){var r=this;this.data.forEach(function(a){r.tableData.forEach(function(e,t){e.Id==a&&r.$refs.roleTable.toggleRowSelection(e)})})}},getRoleInfo:function(){var t=this;return i()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,a.i(l._263)();case 3:t.tableData=e.sent,t.loading=!1,t.$nextTick(function(){this.toggleSelection()});case 6:case"end":return e.stop()}},e,t)}))()},search:function(){if(""!==this.filterWord&&null!==this.filterWord){var a=this;this.tableData=[],this.allData.forEach(function(e,t){(0<=e.Code.indexOf(a.filterWord)||0<=e.Realname.indexOf(a.filterWord))&&a.tableData.push(e)})}else this.tableData=this.allData.slice(0)},selectChange:function(e){this.selectData=e},addRow:function(){this.addClick&&this.addClick(this.selectData)}}}},1252:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".select .el-input[data-v-1326fabf]{position:static;width:60px;float:none}.select .el-input[data-v-1326fabf],.select .el-input__inner[data-v-1326fabf]{width:auto}.select .el-select[data-v-1326fabf]{padding-right:0;float:none}.block[data-v-1326fabf]{float:right;margin-right:30px;padding-right:0!important}",""])},1380:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".avatar-uploader .el-upload[data-v-519aad49]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-519aad49]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-519aad49]{font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center}.avatar[data-v-519aad49]{width:100px;height:100px;display:block}",""])},1440:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".avatar-uploader .el-upload[data-v-722d30e8]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-722d30e8]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-722d30e8]{font-size:28px;color:#8c939d;width:100px;height:100px;line-height:100px;text-align:center}.avatar[data-v-722d30e8]{width:100px;height:100px;display:block}",""])},1506:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".select .el-input[data-v-cb75c97e]{position:static;width:60px;float:none}.select .el-input[data-v-cb75c97e],.select .el-input__inner[data-v-cb75c97e]{width:auto}.select .el-select[data-v-cb75c97e]{padding-right:0;float:none}",""])},1677:function(e,t,a){var r=a(1252);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("28686a5c",r,!0)},1805:function(e,t,a){var r=a(1380);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("4d646fa9",r,!0)},1865:function(e,t,a){var r=a(1440);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("2d861519",r,!0)},1931:function(e,t,a){var r=a(1506);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("2c9c76bc",r,!0)},2092:function(e,t,a){a(1865);var r=a(98)(a(1152),a(2339),"data-v-722d30e8",null);e.exports=r.exports},2094:function(e,t,a){a(1805);var r=a(98)(a(1154),a(2278),"data-v-519aad49",null);e.exports=r.exports},2095:function(e,t,a){var r=a(98)(a(1155),a(2127),null,null);e.exports=r.exports},2127:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticStyle:{width:"500px",padding:"0 20px"}},[r("el-checkbox",{attrs:{indeterminate:a.isIndeterminate},on:{change:a.handleCheckAllChange},model:{value:a.checkAll,callback:function(e){a.checkAll=e},expression:"checkAll"}},[a._v("全选")]),a._v(" "),r("div",{staticStyle:{margin:"15px 0"}}),a._v(" "),r("el-checkbox-group",{on:{change:a.handleCheckedCitiesChange},model:{value:a.hosChecked,callback:function(e){a.hosChecked=e},expression:"hosChecked"}},a._l(a.hosList,function(e,t){return r("el-checkbox",{key:t,staticClass:"checkBox",attrs:{label:e}},[a._v(a._s(e.SupplierName))])}),1),a._v(" "),r("div",{staticStyle:{"text-align":"center","padding-top":"10px"}},[r("el-button",{attrs:{type:"primary"},on:{click:a.sure}},[a._v("确定")]),a._v(" "),r("el-button",{on:{click:a.cancel}},[a._v("取消")])],1)],1)},staticRenderFns:[]}},2149:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"system-role"},[r("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,"label-width":"100px"}},[r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"注册日期："}},[r("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"选择日期"},on:{change:a.dateChange},model:{value:a.date,callback:function(e){a.date=e},expression:"date"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"关键字："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.init(e)}},model:{value:a.filterWord,callback:function(e){a.filterWord=e},expression:"filterWord"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"类型："}},[r("el-select",{staticStyle:{width:"200px"},model:{value:a.type,callback:function(e){a.type=e},expression:"type"}},[r("el-option",{attrs:{value:"",label:"全部"}}),a._v(" "),r("el-option",{attrs:{label:"平台",value:"01"}}),a._v(" "),r("el-option",{attrs:{label:"代理",value:"02"}}),a._v(" "),r("el-option",{attrs:{label:"医院",value:"03"}}),a._v(" "),r("el-option",{attrs:{label:"会员",value:"04"}}),a._v(" "),r("el-option",{attrs:{label:"平台客服",value:"05"}}),a._v(" "),r("el-option",{attrs:{label:"线上app会员",value:"06"}}),a._v(" "),r("el-option",{attrs:{label:"服务商",value:"07"}})],1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"机构："}},[r("el-select",{staticStyle:{width:"200px"},model:{value:a.hospital,callback:function(e){a.hospital=e},expression:"hospital"}},a._l(a.hospitalList,function(e,t){return r("el-option",{key:t,attrs:{value:e.code,label:e.supplierName}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"代理商："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":a.remoteMethod,loading:a.loading},model:{value:a.branch,callback:function(e){a.branch=e},expression:"branch"}},a._l(a.branchList,function(e){return r("el-option",{key:e.value,attrs:{label:"("+e.Code+")"+e.BranchName,value:e.Code}})}),1)],1),a._v(" "),"06"==a.type?r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"所属消费商："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":a.remoteMethod,loading:a.loading},model:{value:a.belongBra,callback:function(e){a.belongBra=e},expression:"belongBra"}},a._l(a.branchList,function(e){return r("el-option",{key:e.value,attrs:{label:"("+e.Code+")"+e.BranchName,value:e.Code}})}),1)],1):a._e(),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:" "}},[r("el-button",{attrs:{type:"primary",size:"small",icon:"search"},on:{click:a.init}},[a._v("搜索")]),a._v(" "),r("el-button",{attrs:{type:"primary",size:"small",icon:"plus"},on:{click:a.addRow}},[a._v("添加")])],1)],1),a._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.tabLoading,expression:"tabLoading"}],ref:"multipleTable",staticClass:"smt min_table",staticStyle:{width:"100%","margin-top":"10px","margin-bottom":"10px"},attrs:{data:a.tableData,"max-height":"560",border:"",stripe:"","row-key":"id"},on:{"selection-change":a.selectChange}},[r("el-table-column",{attrs:{prop:"Id",label:"编号","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"UserName",label:"用户名","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"CreateOn",label:"创建时间",width:"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.CreateOn?r("span",[a._v(a._s(e.row.CreateOn.substring(0,10)))]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"Realname",label:"真实姓名","min-width":"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.Realname?r("span",[a._v(a._s(e.row.Realname)),r("br"),a._v(a._s(e.row.Mobile))]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"ShareCode",label:"分享码","min-width":"90"}}),a._v(" "),r("el-table-column",{attrs:{prop:"CreateOn",label:"推荐人",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.RefRealName?r("span",[a._v(a._s(e.row.RefRealName)),r("br"),a._v(a._s(e.row.RefMobile))]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"ServiceManName",label:"服务者","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"TypeCode",label:"类型","min-width":"90"},scopedSlots:a._u([{key:"default",fn:function(e){return[r("span",{domProps:{innerHTML:a._s(a.getTypeName(e.row.TypeCode))}})]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"UserName",label:"机构名称","min-width":"90"},scopedSlots:a._u([{key:"default",fn:function(e){return["01"==e.row.TypeCode?r("span",[a._v("平台")]):r("span",[a._v("\n                 "+a._s(e.row.HospitalName)),r("br"),a._v(a._s(e.row.HospitalCode)+"\n            ")])]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"UserName",label:"代理商","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                "+a._s(e.row.BranchName)),r("br"),a._v(a._s(e.row.BranchCode)+"\n            ")]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"LeastBranchName",label:"所属代理商","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                "+a._s(e.row.LeastBranchName)),r("br"),a._v(a._s(e.row.LeastBranchCode)+"\n            ")]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"Gender",label:"性别",width:"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Email",label:"邮箱","min-width":"130"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Enabled",label:"是否有效","min-width":"80"},scopedSlots:a._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:1===e.row.Enabled?"success":"warning","close-transition":""},domProps:{innerHTML:a._s(1===e.row.Enabled?"有效":"无效")}})]}}])}),a._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"250"},scopedSlots:a._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini",icon:"edit",disabled:"03"!=t.row.TypeCode},on:{click:function(e){return a.editHos(t.row)}}},[a._v("医院")]),a._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"edit"},on:{click:function(e){return a.editRow(t.$index)}}},[a._v("编辑")]),a._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"delete"},on:{click:function(e){return a.deleteRow(t.$index)}}},[a._v("删除")]),a._v(" "),r("el-button",{attrs:{type:"primary",size:"mini",icon:"edit"},on:{click:function(e){return a.changeGrade(t.row)}}},[a._v("修改等级")])]}}])})],1),a._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{total:a.dataCount,"current-page":a.currentPage,"page-size":a.pageSize,"page-sizes":[10,20,50,100,500,1e3],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":a.pageSizeChange,"current-change":a.pageIndexChange,"update:currentPage":function(e){a.currentPage=e},"update:current-page":function(e){a.currentPage=e}}})],1),a._v(" "),r("el-dialog",{attrs:{title:"添加用户信息",visible:a.ispopAdd,size:"",top:"10%"},on:{"update:visible":function(e){a.ispopAdd=e},close:function(e){return a.pageIndexChange(a.currentPage)}}},[a.ispopAdd?r("pop-add",{staticStyle:{width:"700px"}}):a._e()],1),a._v(" "),r("el-dialog",{ref:"updateDialog",attrs:{title:"修改用户信息",visible:a.ispopEdit,size:"",top:"10%"},on:{"update:visible":function(e){a.ispopEdit=e},close:function(e){return a.pageIndexChange(a.currentPage)}}},[a.ispopEdit?r("pop-edit",{staticStyle:{width:"700px"},attrs:{dataEdit:a.userInfo}}):a._e()],1),a._v(" "),r("el-dialog",{attrs:{title:"修改等级",visible:a.addGrade,size:""},on:{"update:visible":function(e){a.addGrade=e}}},[r("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:a.ruleForm,"label-width":"80px"}},[r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"等级",prop:"pass"}},[r("el-select",{staticStyle:{width:"200px"},model:{value:a.ruleForm.grade,callback:function(e){a.$set(a.ruleForm,"grade",e)},expression:"ruleForm.grade"}},a._l(a.gradeList,function(e,t){return r("el-option",{key:t,attrs:{label:e.gradeName,value:e.id}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"优先级",prop:"checkPass"}},[r("span",[a._v(a._s(a.ruleForm.priorities))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"提成比例",prop:"age"}},[r("span",[a._v(a._s(a.ruleForm.extractRatio))]),a._v(" %\n            ")]),a._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(e){return a.submitForm("ruleForm")}}},[a._v("提交")]),a._v(" "),r("el-button",{on:{click:function(e){return a.resetForm("ruleForm")}}},[a._v("重置")])],1)],1)],1),a._v(" "),r("el-dialog",{attrs:{title:"服务医院",visible:a.serviceHos,size:"",top:"10%"},on:{"update:visible":function(e){a.serviceHos=e}}},[a.serviceHos?r("hosBind",{attrs:{userInfo:a.userInfo},on:{dialogClose:a.dialogClose}}):a._e()],1)],1)},staticRenderFns:[]}},2278:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"dilog_body system-role"},[r("el-form",{ref:"dataForm",staticClass:"demo-dynamic",attrs:{"label-width":"100px",model:a.dataForm,rules:a.rules}},[r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"头像："}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:a.action,"show-file-list":!1,"on-success":a.handleAvatarSuccess2,acceptImage:a.acceptImage,"before-upload":a.beforeAvatarUpload2}},[a.ImgUrl?r("img",{staticClass:"avatar",attrs:{src:a.ImgUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"用户名："}},[r("el-input",{attrs:{size:"small"},model:{value:a.dataForm.UserName,callback:function(e){a.$set(a.dataForm,"UserName",e)},expression:"dataForm.UserName"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"姓名：",prop:"Realname"}},[r("el-input",{attrs:{size:"small"},model:{value:a.dataForm.Realname,callback:function(e){a.$set(a.dataForm,"Realname",e)},expression:"dataForm.Realname"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"组织机构："}},[r("el-form-item",{staticStyle:{float:"left"}},[r("el-select",{attrs:{placeholder:"请选择","value-key":"value"},on:{change:a.branchCha},model:{value:a.branch,callback:function(e){a.branch=e},expression:"branch"}},a._l(a.organize,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1),a._v(" "),"01"==a.branch.value||"03"==a.branch.value?r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"selHos"}},[r("el-select",{staticClass:"area",attrs:{placeholder:"请选择","value-key":"value"},on:{change:a.hosSelect},model:{value:a.branchChild,callback:function(e){a.branchChild=e},expression:"branchChild"}},a._l(a.orgChild,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1):a._e(),a._v(" "),"02"==a.branch.value||"04"==a.branch.value?r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"BRNAME"}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":a.remoteMethod,loading:a.loading},on:{change:a.selBranch},model:{value:a.branchChild,callback:function(e){a.branchChild=e},expression:"branchChild"}},a._l(a.childList,function(e,t){return r("el-option",{key:t,attrs:{label:e.name+"|"+e.value,value:e}})}),1)],1):a._e(),a._v(" "),"03"==a.branch.value?r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"ServiceManCode"}},[r("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:a.serChange},model:{value:a.service,callback:function(e){a.service=e},expression:"service"}},a._l(a.serviceList,function(e,t){return r("el-option",{key:t,attrs:{label:e.text,value:e}})}),1)],1):a._e()],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"性别："}},[r("el-radio",{staticClass:"radio",attrs:{label:"男"},model:{value:a.dataForm.Gender,callback:function(e){a.$set(a.dataForm,"Gender",e)},expression:"dataForm.Gender"}},[a._v("男")]),a._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:"女"},model:{value:a.dataForm.Gender,callback:function(e){a.$set(a.dataForm,"Gender",e)},expression:"dataForm.Gender"}},[a._v("女")])],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"手机号码："}},[r("el-input",{attrs:{size:"small"},model:{value:a.dataForm.Mobile,callback:function(e){a.$set(a.dataForm,"Mobile",e)},expression:"dataForm.Mobile"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{prop:"Email",label:"邮箱："}},[r("el-input",{attrs:{size:"small"},model:{value:a.dataForm.Email,callback:function(e){a.$set(a.dataForm,"Email",e)},expression:"dataForm.Email"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否有效："}},[r("el-switch",{attrs:{"on-text":"有效","off-text":"无效","on-value":1,"off-value":0,width:60},model:{value:a.dataForm.Enabled,callback:function(e){a.$set(a.dataForm,"Enabled",e)},expression:"dataForm.Enabled"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否管理员："}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-value":!0,"off-value":!1,width:60},model:{value:a.dataForm.IsAdministrator,callback:function(e){a.$set(a.dataForm,"IsAdministrator",e)},expression:"dataForm.IsAdministrator"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否查看特殊："}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-value":!0,"off-value":!1,width:60},model:{value:a.spec,callback:function(e){a.spec=e},expression:"spec"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"用户角色："}},[a._l(a.roleTags,function(t){return r("el-tag",{key:t,attrs:{hit:!0,closable:!0,"close-transition":!1,type:"success"},on:{close:function(e){return a.handleClose(t)}}},[a._v("\n                "+a._s(t)+"\n            ")])}),a._v(" "),r("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){a.showRole=!0}}},[a._v("添加角色")])],2),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"密码：",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:a.dataForm.pass,callback:function(e){a.$set(a.dataForm,"pass",e)},expression:"dataForm.pass"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"确认密码：",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:a.dataForm.checkPass,callback:function(e){a.$set(a.dataForm,"checkPass",e)},expression:"dataForm.checkPass"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"描述："}},[r("el-input",{attrs:{type:"textarea"},model:{value:a.dataForm.Description,callback:function(e){a.$set(a.dataForm,"Description",e)},expression:"dataForm.Description"}})],1)],1),a._v(" "),r("div",{staticStyle:{"padding-left":"20%"}},[r("el-button",{attrs:{type:"primary",loading:a.saveLoading},on:{click:function(e){return a.Submit()}}},[a._v("保存")]),a._v(" "),r("el-button",{on:{click:a.Cancel}},[a._v("取消")])],1),a._v(" "),r("el-dialog",{ref:"updateDialog",attrs:{title:" ",visible:a.showRole,size:"large",top:"10%",modal:!1},on:{"update:visible":function(e){a.showRole=e}}},[r("role-select",{attrs:{"add-click":a.addRole,dataForm:a.roleSelectData}})],1)],1)},staticRenderFns:[]}},2339:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"dilog_body system-role"},[r("el-form",{ref:"dataForm",staticClass:"demo-dynamic",attrs:{"label-width":"100px",model:a.data,rules:a.rules}},[r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"头像："}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:a.action,"show-file-list":!1,"on-success":a.handleAvatarSuccess2,acceptImage:a.acceptImage,"before-upload":a.beforeAvatarUpload2}},[a.imgUrl?r("img",{staticClass:"avatar",attrs:{src:a.imgUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"用户名：",prop:"UserName",error:a.userNameOk}},[r("el-input",{attrs:{size:"small"},on:{blur:a.judgeUserName},model:{value:a.data.UserName,callback:function(e){a.$set(a.data,"UserName",e)},expression:"data.UserName"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"组织机构：",required:""}},[r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"branch.value",rules:[{required:!0,message:"请选择组织机构",trigger:"blur"}]}},[r("el-select",{staticClass:"area",attrs:{placeholder:"请选择"},model:{value:a.data.branch,callback:function(e){a.$set(a.data,"branch",e)},expression:"data.branch"}},a._l(a.organize,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1),a._v(" "),"01"==a.data.branch.value||"03"==a.data.branch.value?r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"selHos",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[r("el-select",{staticClass:"area",attrs:{placeholder:"请选择",filterable:""},on:{change:a.hosSelect},model:{value:a.data.branchChild,callback:function(e){a.$set(a.data,"branchChild",e)},expression:"data.branchChild"}},a._l(a.data.branch.sub,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1):a._e(),a._v(" "),"02"==a.data.branch.value||"04"==a.data.branch.value?r("el-form-item",{staticStyle:{float:"left"},attrs:{prop:"BRNAME",rules:[{required:!0,message:"请选择",trigger:"blur"}]}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":a.remoteMethod,loading:a.loading},on:{change:a.selBranch},model:{value:a.data.branchChild,callback:function(e){a.$set(a.data,"branchChild",e)},expression:"data.branchChild"}},a._l(a.childList,function(e,t){return r("el-option",{key:t,attrs:{label:e.name+"|"+e.value,value:e}})}),1)],1):a._e(),a._v(" "),r("el-select",{directives:[{name:"show",rawName:"v-show",value:"03"==a.data.branch.value,expression:"data.branch.value == '03'"}],attrs:{placeholder:"请选择",filterable:""},on:{change:a.serChange},model:{value:a.service,callback:function(e){a.service=e},expression:"service"}},a._l(a.serviceList,function(e,t){return r("el-option",{key:t,attrs:{label:e.text,value:e}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"姓名：",prop:"Realname"}},[r("el-input",{attrs:{size:"small"},model:{value:a.data.Realname,callback:function(e){a.$set(a.data,"Realname",e)},expression:"data.Realname"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"性别："}},[r("el-radio",{staticClass:"radio",attrs:{label:"男"},model:{value:a.data.Gender,callback:function(e){a.$set(a.data,"Gender",e)},expression:"data.Gender"}},[a._v("男")]),a._v(" "),r("el-radio",{staticClass:"radio",attrs:{label:"女"},model:{value:a.data.Gender,callback:function(e){a.$set(a.data,"Gender",e)},expression:"data.Gender"}},[a._v("女")])],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"手机号码："}},[r("el-input",{attrs:{size:"small"},model:{value:a.data.Mobile,callback:function(e){a.$set(a.data,"Mobile",e)},expression:"data.Mobile"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{prop:"Email",label:"邮箱："}},[r("el-input",{attrs:{size:"small"},model:{value:a.data.Email,callback:function(e){a.$set(a.data,"Email",e)},expression:"data.Email"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否有效："}},[r("el-switch",{attrs:{"on-text":"有效","off-text":"无效","on-value":1,"off-value":0,width:60},model:{value:a.data.Enabled,callback:function(e){a.$set(a.data,"Enabled",e)},expression:"data.Enabled"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否管理员："}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-value":!0,"off-value":!1,width:60},model:{value:a.data.isAdministrator,callback:function(e){a.$set(a.data,"isAdministrator",e)},expression:"data.isAdministrator"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"是否查看特殊："}},[r("el-switch",{attrs:{"on-text":"是","off-text":"否","on-value":!0,"off-value":!1,width:60},model:{value:a.data.isSpecial,callback:function(e){a.$set(a.data,"isSpecial",e)},expression:"data.isSpecial"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"用户角色："}},[a._l(a.roleTags,function(t){return r("el-tag",{key:t,attrs:{hit:!0,closable:!0,"close-transition":!1,type:"success"},on:{close:function(e){return a.handleClose(t)}}},[a._v("\n                "+a._s(t)+"\n            ")])}),a._v(" "),r("el-button",{attrs:{type:"success",icon:"plus",size:"mini"},on:{click:function(e){a.showRole=!0}}},[a._v("添加角色")])],2),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"描述："}},[r("el-input",{attrs:{type:"textarea"},model:{value:a.data.Description,callback:function(e){a.$set(a.data,"Description",e)},expression:"data.Description"}})],1),a._v(" "),r("el-form-item",{staticStyle:{"padding-left":"20%"}},[r("el-button",{attrs:{type:"primary",loading:a.saveLoading},on:{click:function(e){return a.Submit()}}},[a._v("提交")]),a._v(" "),r("el-button",{on:{click:function(e){return a.Reset()}}},[a._v("重置")])],1)],1),a._v(" "),r("el-dialog",{ref:"updateDialog",attrs:{title:" ",visible:a.showRole,size:"large",top:"10%",modal:!1},on:{"update:visible":function(e){a.showRole=e}}},[r("role-select",{attrs:{selectedMes:a.selectedMes,"add-click":a.addRole,data:a.roleSelectData}})],1)],1)},staticRenderFns:[]}},2406:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"select",attrs:{id:"roleinfo_select"}},[a("span",[t._v("关键字：")]),t._v(" "),a("el-input",{attrs:{placeholder:"名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.filterWord,callback:function(e){t.filterWord=e},expression:"filterWord"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.addRow}},[t._v("确定")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"roleTable",staticStyle:{width:"100%","margin-top":"10px","margin-bottom":"10px"},attrs:{data:t.tableData,border:"",stripe:"",height:"460","row-key":"id"},on:{"selection-change":t.selectChange}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{type:"selection",align:"center",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Code",label:"编号","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Realname",label:"名称","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Description",label:"描述","min-width":"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Enabled",label:"是否有效","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:1===e.row.Enabled?"success":"warning","close-transition":""},domProps:{innerHTML:t._s(1===e.row.Enabled?"有效":"无效")}})]}}])})],1)],1)},staticRenderFns:[]}},403:function(e,t,a){a(1677);var r=a(98)(a(1149),a(2149),"data-v-1326fabf",null);e.exports=r.exports},441:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return s}),a.d(t,"c",function(){return l});var r="image/gif,image/jpeg,image/jpg,image/png,image/svg",n="/Image/UploadImg",s="9",i=[{name:"中国",value:"01"},{name:"中国台湾",value:"02"},{name:"韩国",value:"03"},{name:"美国",value:"04"}],l=[{name:"网页",linkType:"0",linkUrl:""},{name:"热门",linkType:"1",linkUrl:"0"},{name:"直播",linkType:"1",linkUrl:"1"},{name:"视频",linkType:"1",linkUrl:"2"},{name:"问答",linkType:"1",linkUrl:"4"},{name:"精选案例",linkType:"2",linkUrl:"0"},{name:"最新案例",linkType:"2",linkUrl:"1"},{name:"附近案例",linkType:"2",linkUrl:"2"},{name:"医院详情",linkType:"3",linkUrl:""},{name:"医生详情",linkType:"4",linkUrl:""},{name:"项目详情",linkType:"5",linkUrl:""},{name:"商品详情",linkType:"6",linkUrl:""},{name:"案例详情",linkType:"7",linkUrl:""},{name:"卡券详情",linkType:"8",linkUrl:""},{name:"活动详情",linkType:"9",linkUrl:""},{name:"问答详情",linkType:"10",linkUrl:""},{name:"视频详情",linkType:"11",linkUrl:""},{name:"直播详情",linkType:"12",linkUrl:""},{name:"医美百科",linkType:"13",linkUrl:""},{name:"金牌设计",linkType:"14",linkUrl:""},{name:"抽奖中心",linkType:"15",linkUrl:""},{name:"红包专区",linkType:"16",linkUrl:""},{name:"html扩展页面",linkType:"17",linkUrl:""},{name:"医院列表",linkType:"18",linkUrl:""},{name:"项目列表",linkType:"19",linkUrl:""},{name:"卡券列表",linkType:"20",linkUrl:""},{name:"医生列表",linkType:"21",linkUrl:""},{name:"活动列表",linkType:"22",linkUrl:""},{name:"商家列表",linkType:"23",linkUrl:""},{name:"商家商品列表",linkType:"24",linkUrl:""},{name:"商家详情",linkType:"25",linkUrl:""},{name:"商家商品详情",linkType:"26",linkUrl:""},{name:"我的-订单",linkType:"27",linkUrl:"0"},{name:"我的-邀请好友",linkType:"27",linkUrl:"1"},{name:"我的-我的消息",linkType:"27",linkUrl:"2"},{name:"我的-我的收藏",linkType:"27",linkUrl:"3"},{name:"我的-身份认证",linkType:"27",linkUrl:"4"},{name:"我的-我的财富",linkType:"27",linkUrl:"5"},{name:"我的-关于我们",linkType:"27",linkUrl:"6"},{name:"我的-联系我们",linkType:"27",linkUrl:"7"},{name:"我的-信息咨询",linkType:"27",linkUrl:"8"},{name:"医院中心",linkType:"28",linkUrl:"0"},{name:"销售公司",linkType:"28",linkUrl:"1"},{name:"消费商",linkType:"28",linkUrl:"2"},{name:"商家中心",linkType:"28",linkUrl:"3"}]},443:function(e,t,a){"use strict";t.__esModule=!0;var r,n=a(444),s=(r=n)&&r.__esModule?r:{default:r};t.default=function(e,t,a){return t in e?(0,s.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},444:function(e,t,a){e.exports={default:a(445),__esModule:!0}},445:function(e,t,a){a(446);var r=a(2).Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},446:function(e,t,a){var r=a(9);r(r.S+r.F*!a(10),"Object",{defineProperty:a(11).f})},524:function(e,t,a){var r=a(532);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("6bb834a8",r,!0)},528:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return s});var r=a(37);a.n(r);function n(e,t){if(document.all)window.style=e,document.createStyleSheet("javascript:style");else{var a=document.createElement("style");a.type="text/css",a.innerHTML=e,document.getElementById(t).appendChild(a)}}function s(e,t,a,r){var n,s;if(!t||""==t||!e)return[];if(e instanceof Array){var i=[],l={};for(n=0,s=e.length;n<s;n++)l[e[n][t]]=e[n];for(n=0,s=e.length;n<s;n++)l[e[n][a]]&&e[n][t]!=e[n][a]?(l[e[n][a]][r]||(l[e[n][a]][r]=[]),l[e[n][a]][r].push(e[n])):i.push(e[n]);return i}return e}},532:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".system-role .el-tree-node__content{line-height:35px;height:35px;cursor:pointer}.system-role .el-tree-node.is-current>.el-tree-node__content{color:#9d6b4a}.system-role .el-tree-node.is-current>.el-tree-node__content .node_btn{display:block!important}.system-role .node_level1>.node_word,.system-role .node_level2>.node_word{font-size:14px}.system-role .node_level3>.node_word{font-size:13px}.system-role .icon.iconfont{padding:0 3px;font-size:17px}.system-role .el-tree-node__content:hover{background:#deeffa}.system-role .el-tree .el-input__inner{color:#252525!important}.system-role .el-tag{margin:0 5px}.system-role .el-table__row{cursor:pointer}.system-role .el-dialog__body{padding:10px 20px}.system-role .dilog_body{width:80%;padding:10px 15px}.system-role .el-dialog__header{text-align:center;padding:10px 20px 0}",""])},842:function(e,t,a){a(1931);var r=a(98)(a(1156),a(2406),"data-v-cb75c97e",null);e.exports=r.exports}});