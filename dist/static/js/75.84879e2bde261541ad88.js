webpackJsonp([75],{1004:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(100),n=o.n(a),r=o(99),s=o.n(r),l=o(37),i=o.n(l),m=o(443),c=o.n(m),p=o(436),u=o.n(p),d=o(452),f=o.n(d),_=o(64),h=o(65);o.n(h);e.default={data:function(){var t,e;return e={loading:!1,dialogTableVisible:!1,HospitalList:[],branchList:[],total:0,currentPage:0,size:10,allData:[],year:(new Date).getFullYear(),month:"",yearList:[],monthList:[],formInline:(t={Hospital:"",branch:"",date:"",startTime:"",endTime:"",type:""},c()(t,"branch",""),c()(t,"keywords",""),t),agentList:[],tableData:[],detailData:[],multipleSelection:[],ispopRead:!1,selectData:{},sum:{totalAmountOut:0}},c()(e,"selectData",{}),c()(e,"ispopRead",!1),e},computed:{tHeader:function(){return["销售公司","转出客户","开户人","开户行","银行卡号","金额"]},filterVal:function(){return["hospitalName","toName","bankCardHolder","openBankName","bankCardId","totalAmountOut"]},name:function(){return"销售公司结算"},reportData:function(){return JSON.parse(i()(this.tableData))},totalAmount:function(){var e=0;return this.multipleSelection.forEach(function(t){e=e.add(t.totalAmountOut)}),e}},mounted:function(){this.getBaseDate(),this.getSupplierByPage()},methods:{getSummaries:function(){return["总合计","","","","",this.sum.totalAmountOut.toQFW(),""]},change:function(){this.formInline.keywords=""},handleSelectionChange:function(t){this.multipleSelection=t},GetCompanyOutDetail:function(a){var r=this;return s()(n.a.mark(function t(){var e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.i(_._479)(a);case 2:e=t.sent,r.detailData=e.data;case 4:case"end":return t.stop()}},t,r)}))()},getBaseDate:function(){this.yearList=[(new Date).getFullYear()+1,(new Date).getFullYear(),(new Date).getFullYear()-1,(new Date).getFullYear()-2];for(var t=1;t<13;t++)t<10?this.monthList.push("0"+t):this.monthList.push(t);var e=(new Date).getMonth();9<e?this.month=e:0==e?(this.year=(new Date).getFullYear()-1,this.month=12):this.month="0"+e},ComOutSettle:function(e){var a=this;return s()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.i(_._480)(e);case 3:t.sent.status?(a.$message({message:"结算成功",type:"success"}),a.search()):a.$message.error("结算失败"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,a,[[0,7]])}))()},GetCompanyOut:function(a){var r=this;return s()(n.a.mark(function t(){var e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.loading=!0,t.next=4,o.i(_._481)(a);case 4:e=t.sent,r.loading=!1,e.status?(r.total=e.count,r.allData=e.data,r.pageChange(),r.getTotal()):r.$message.error("获取数据失败"+e.errorMessage),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,r,[[0,9]])}))()},getSupplierByPage:function(){var r=this;return s()(n.a.mark(function t(){var e,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.i(_.d)({typeId:2});case 2:return e=t.sent,r.branchList=e.data,r.formInline.branch=r.branchList[0].code,t.next=7,o.i(_.a)({SupTypeCode:"001"});case 7:a=t.sent,r.HospitalList=a;case 9:case"end":return t.stop()}},t,r)}))()},submit:function(){this.currentPage=1,this.search()},search:function(){this.sum.totalAmountOut=0,this.GetCompanyOut({BranchCode:this.formInline.branch,CommissionDate:this.year+"-"+this.month,IsFinished:"0",typeId:this.formInline.type,keywords:this.formInline.keywords})},settle:function(r,o){var n=this,t=this.$createElement;this.$msgbox({title:"提示",message:t("p",null,[t("span",null,"是否进行结算? ")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",beforeClose:function(t,e,a){"confirm"===t&&(e.confirmButtonLoading=!0,e.confirmButtonText="执行中...",n.ComOutSettle({BranchCode:o[r].hospitalId,toCode:o[r].toCode,CommissionDate:n.year+"-"+n.month}),e.confirmButtonLoading=!1),a()}}).then(function(t){})},det:function(t,e){this.dialogTableVisible=!0,this.GetCompanyOutDetail({BranchCode:e[t].hospitalId,toCode:e[t].toCode,CommissionDate:this.year+"-"+this.month,IsFinished:0})},handleSizeChange:function(t){this.size=t,this.pageChange()},handleCurrentChange:function(t){this.currentPage=t,this.pageChange()},pageChange:function(){this.tableData=this.allData.slice((this.currentPage-1)*this.size,this.currentPage*this.size)},getTotal:function(){var e=this;this.allData.forEach(function(t){e.sum.totalAmountOut=e.sum.totalAmountOut.add(t.totalAmountOut)})},getPD:function(t){this.ispopRead=!0,this.selectData=t}},components:{Export:u.a,report:f.a}}},1428:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,"",""])},1853:function(t,e,a){var r=a(1428);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(216)("b2a7468a",r,!0)},2326:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"settled selCommon"},[r("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:a.formInline,"label-width":"80px"}},[r("el-form-item",{staticClass:"form_item_mt10 ",attrs:{label:"时间："}},[r("el-select",{staticStyle:{width:"100px",float:"left"},attrs:{placeholder:"选择年份"},model:{value:a.year,callback:function(t){a.year=t},expression:"year"}},a._l(a.yearList,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1),a._v(" "),r("el-select",{staticStyle:{width:"100px",float:"left"},attrs:{placeholder:"选择月份"},model:{value:a.month,callback:function(t){a.month=t},expression:"month"}},a._l(a.monthList,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"销售公司："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},on:{change:a.submit},model:{value:a.formInline.branch,callback:function(t){a.$set(a.formInline,"branch",t)},expression:"formInline.branch"}},a._l(a.branchList,function(t){return r("el-option",{key:t.branchName,attrs:{label:t.branchName,value:t.code}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"转入客户："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},on:{change:a.change},model:{value:a.formInline.type,callback:function(t){a.$set(a.formInline,"type",t)},expression:"formInline.type"}},[r("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),r("el-option",{attrs:{label:"医院",value:"1"}}),a._v(" "),r("el-option",{attrs:{label:"消费商",value:"3"}})],1)],1),a._v(" "),1==a.formInline.type?r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"医院："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:a.formInline.keywords,callback:function(t){a.$set(a.formInline,"keywords",t)},expression:"formInline.keywords"}},[r("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.HospitalList,function(t){return r("el-option",{key:t.code,attrs:{label:t.SupplierName,value:t.Code}})})],2)],1):a._e(),a._v(" "),2==a.formInline.type?r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"销售公司："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:a.formInline.keywords,callback:function(t){a.$set(a.formInline,"keywords",t)},expression:"formInline.keywords"}},a._l(a.branchList,function(t){return r("el-option",{key:t.code,attrs:{label:t.branchName,value:t.code}})}),1)],1):a._e(),a._v(" "),3==a.formInline.type?r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"关键字："}},[r("el-input",{staticStyle:{width:"200px"},model:{value:a.formInline.keywords,callback:function(t){a.$set(a.formInline,"keywords",t)},expression:"formInline.keywords"}})],1):a._e(),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:" "}},[r("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.submit}},[a._v("查询")]),a._v(" "),r("Export",{ref:"port",attrs:{tHeader:a.tHeader,filterVal:a.filterVal,tableData1:a.reportData,name:a.name}})],1)],1),a._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"min_table smt",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","summary-method":a.getSummaries,"max-height":"660","show-summary":""}},[r("el-table-column",{attrs:{prop:"hospitalName",label:"来源","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"toName",label:"转入客户","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{label:"开户人",prop:"hospitalName","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                 "+a._s(t.row.bankCardHolder)+"\n             ")]}}])}),a._v(" "),r("el-table-column",{attrs:{label:"开户行",prop:"hospitalName","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                "+a._s(t.row.openBankName)+"\n            ")]}}])}),a._v(" "),r("el-table-column",{attrs:{label:"银行卡号",prop:"hospitalName","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v("\n                 "+a._s(t.row.bankCardId)+"\n             ")]}}])}),a._v(" "),r("el-table-column",{attrs:{label:"金额",prop:"totalAmountOut","min-width":"120",align:"right"},scopedSlots:a._u([{key:"default",fn:function(e){return[r("el-button",{staticStyle:{float:"right"},attrs:{type:"text",size:"small"},on:{click:function(t){return a.det(e.$index,a.tableData)}}},[a._v("￥"+a._s(e.row.totalAmountOut.toQFW()))])]}}])}),a._v(" "),r("el-table-column",{attrs:{label:"操作",prop:"hospitalName",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.settle(e.$index,a.tableData)}}},[a._v("结算")])]}}])})],1),a._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,40],"page-size":a.size,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),r("el-dialog",{attrs:{title:"详情",visible:a.dialogTableVisible,size:""},on:{"update:visible":function(t){a.dialogTableVisible=t}}},[r("span",[a._v("金额："+a._s(a.totalAmount))]),a._v(" "),r("el-table",{ref:"multipleTable",staticClass:"min_table smt",staticStyle:{width:"750px"},attrs:{data:a.detailData,border:"","tooltip-effect":"dark","max-height":"560"},on:{"selection-change":a.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",align:"center","min-width":"55"}}),a._v(" "),r("el-table-column",{attrs:{prop:"customerName",label:"客户","min-width":"90"}}),a._v(" "),r("el-table-column",{attrs:{prop:"fxCode",label:"订单","min-width":"90",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"text"},on:{click:function(t){return a.getPD(e.row)}}},[a._v(a._s(e.row.fxCode))])]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"hospitalName",label:"销售公司","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"toName",label:"转到","min-width":"150"}}),a._v(" "),r("el-table-column",{attrs:{prop:"rate",label:"比例","min-width":"100",align:"right"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.rate&&1<t.row.rate?r("span",[a._v("\n                        "+a._s(t.row.rate)+"\n                    ")]):r("span",[a._v(a._s(t.row.rate.mul(100))+"%")])]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"totalAmountOut",label:"金额","min-width":"100",align:"right"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.totalAmountOut?r("span",[a._v("￥"+a._s(t.row.totalAmountOut.toQFW()))]):r("span",[a._v(" ￥0")])]}}])})],1)],1),a._v(" "),r("el-dialog",{attrs:{title:"订单详情",visible:a.ispopRead,top:"5%",size:""},on:{"update:visible":function(t){a.ispopRead=t}}},[a.ispopRead?r("report",{staticStyle:{width:"900px"},attrs:{data:a.selectData}}):a._e()],1)],1)},staticRenderFns:[]}},298:function(t,e,a){a(1853);var r=a(98)(a(1004),a(2326),"data-v-68afe142",null);t.exports=r.exports},436:function(t,e,a){a(439);var r=a(98)(a(437),a(440),"data-v-6c47323e",null);t.exports=r.exports},437:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{tHeader:{},filterVal:{},tableData1:{type:Array},name:""},watch:{tableData1:{handler:function(t){this.otData=t},deep:!0}},data:function(){return{otData:[]}},methods:{handleDownload:function(){var a=this;r.e(220).then(function(){var t=r(448).export_json_to_excel,e=[];e=0!=a.otData.length?a.formatJson(a.filterVal,a.otData):a.formatJson(a.filterVal,a.tableData1),t(a.tHeader,e,a.name)}.bind(null,r)).catch(r.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})}}}},438:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".exportBtn[data-v-6c47323e]{background:#fff;border:1px solid #d6d4d4;font-size:14px;color:#666;border-radius:4px}",""])},439:function(t,e,a){var r=a(438);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(216)("fdf4f478",r,!0)},440:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("el-button",{staticClass:"exportBtn",attrs:{type:"primary"},on:{click:this.handleDownload}},[this._v("导出报表")])},staticRenderFns:[]}},443:function(t,e,a){"use strict";e.__esModule=!0;var r,o=a(444),n=(r=o)&&r.__esModule?r:{default:r};e.default=function(t,e,a){return e in t?(0,n.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},444:function(t,e,a){t.exports={default:a(445),__esModule:!0}},445:function(t,e,a){a(446);var r=a(2).Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},446:function(t,e,a){var r=a(9);r(r.S+r.F*!a(10),"Object",{defineProperty:a(11).f})},449:function(t,e,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=D(100),N=D.n(a),r=D(103),k=D.n(r),o=D(66),I=D.n(o),n=D(102),T=D.n(n),s=D(99),l=D.n(s),S=D(101),O=D(64),i=D(22);e.default={props:{data:Object},data:function(){return{fileList:[],formData:{MedicalTypeId:"",OrderDate:"",formNO:"",customerId:"",customerName:"",refrenceBranchCode:"",refrenceBranchName:"",projectId:"",projectName:"",goodsUnitId:"",goodsUnitName:"",OrderAmount:0,hospitalId:"",hospitalName:"",serviceManId:"",serviceManName:"",designer:"",designerName:"",designerAssist:"",designerAssistName:"",doctorAssist:"",doctorAssistName:"",price:"",course:"",serviceFare:"",Memo:"",RealAmount:"",ConsumeTypeId:"",ConsumeTypeName:"",RefrenceHospitalName:""},baseImgPath:S.b,attachList:[],payInfoList:[],commandList:[],errorList:[],refundList:[],backList:[],MedicalTypeList:[],typeList:[],imgList:[],dialogImg:"",photoDialog:!1,serTypeCode:D.i(i.b)("serTypeCode")}},created:function(){var t="";t=this.data.FxCode?this.data.FxCode:this.data.fxCode,this.getDetail(t)},computed:{Retainage:function(){var e=this.formData.OrderAmount;return 0<this.payInfoList.length&&this.payInfoList.forEach(function(t){e=Number(t.RealAmount).red(Number(e))}),e}},filters:{filterTypeId:function(t){switch(t){case 2:return"医院积分";case 3:return"纹绣积分";case 4:return"皮肤科积分"}}},methods:{viewPhoto:function(t){this.dialogImg=t,this.photoDialog=!0},getDetail:function(x){var C=this;return l()(N.a.mark(function t(){var e,a,r,o,n,s,l,i,m,c,p,u,d,f,_,h,v,b,y,w,g;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.a.all([D.i(O._152)({fxCode:x}),D.i(O._62)(),D.i(O._153)(x),D.i(O._154)({fxcode:x}),D.i(O._155)({fxcode:x})]);case 2:if(e=t.sent,a=T()(e,5),r=a[0],o=a[1],n=a[2],s=a[3],l=a[4],C.errorList=r.data,i=[],o.forEach(function(t){"0017"==t.BusinessCode&&C.typeList.push(t),"0022"==t.BusinessCode&&C.MedicalTypeList.push(t),"0006"==t.BusinessCode&&i.push(t)}),l.status&&(C.backList=l.data),s.status&&(C.refundList=s.data.orderCashOutList),C.initAll(n.ProofOrder),(m=["ImgUrl1","ImgUrl2","ImgUrl3","ImgUrl4","ImgUrl5"]).forEach(function(t,e){n.ProofOrder[m[e]]&&C.imgList.push(S.b+n.ProofOrder[m[e]])}),console.log(C.imgList),C.commandList=n.OrderCommandList,n.ProofOrderExtList&&0<n.ProofOrderExtList.length&&(C.attachList=n.ProofOrderExtList),!(n.ProofOrderPayList&&0<n.ProofOrderPayList.length)){t.next=65;break}p=!(c=!0),u=void 0,t.prev=24,d=k()(n.ProofOrderPayList);case 26:if(c=(f=d.next()).done){t.next=50;break}for(_=f.value,v=!(h=!0),b=void 0,t.prev=31,y=k()(i);!(h=(w=y.next()).done);h=!0)g=w.value,_.PayType===g.DataCode&&(_.PayTypeName=g.DataName);t.next=39;break;case 35:t.prev=35,t.t0=t.catch(31),v=!0,b=t.t0;case 39:t.prev=39,t.prev=40,!h&&y.return&&y.return();case 42:if(t.prev=42,v)throw b;t.next=45;break;case 45:return t.finish(42);case 46:return t.finish(39);case 47:c=!0,t.next=26;break;case 50:t.next=56;break;case 52:t.prev=52,t.t1=t.catch(24),p=!0,u=t.t1;case 56:t.prev=56,t.prev=57,!c&&d.return&&d.return();case 59:if(t.prev=59,p)throw u;t.next=62;break;case 62:return t.finish(59);case 63:return t.finish(56);case 64:C.payInfoList=n.ProofOrderPayList;case 65:case"end":return t.stop()}},t,C,[[24,52,56,64],[31,35,39,47],[40,,42,46],[57,,59,63]])}))()},getName:function(t,e){var a=!0,r=!1,o=void 0;try{for(var n,s=k()(e);!(a=(n=s.next()).done);a=!0){var l=n.value;if(l.DataCode==t)return l.DataName}}catch(t){r=!0,o=t}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}},initAll:function(t){var e=t;this.formData={projectType:e.ProjectType,OrderDate:e.OrderDate,fxCode:e.FxCode,Id:e.Id,ConsumeTypeId:e.ConsumeTypeId,ConsumeTypeName:this.getName(e.ConsumeTypeId,this.typeList),MedicalTypeName:this.getName(e.MedicalTypeId,this.MedicalTypeList),formNO:e.FormNO,customerId:e.CustomerId,customerName:e.CustomerName,refrenceBranchCode:e.RefrenceBranchCode?e.RefrenceBranchCode:"",refrenceBranchName:e.RefrenceBranchName?e.RefrenceBranchName:"",RefrenceBranchTags:e.RefrenceBranchTags?e.RefrenceBranchTags:"",projectId:e.ProjectId,projectName:e.ProjectName,hospitalId:e.HospitalId,hospitalName:e.HospitalName,serviceManId:e.ServiceManId,serviceManName:e.ServiceManName,designer:e.Designer||"",OrderAmount:e.OrderAmount,designerName:e.DesignerName||"",designerAssist:e.DesignerAssist||"",designerAssistName:e.DesignerAssistName||"",doctorAssist:e.DoctorAssist||"",doctorAssistName:e.DoctorAssistName||"",price:e.Price,course:e.Course,goodsUnitId:e.GoodsUnitId+"",goodsUnitName:e.GoodsUnitName,serviceFare:e.ServiceFare+"",Memo:e.Memo||"",RealAmount:e.RealAmount,MarketConsultantName:e.MarketConsultantName,MarketConsultantCode:e.MarketConsultantCode,RealPrice:e.RealPrice,RefrenceHospitalName:"",orderType:e.OrderType};for(var a=1;a<=5;a++)if(e["ImgUrl"+a]&&""!==e["ImgUrl"+a]){var r={name:"ImgUrl"+a,url:S.b+e["ImgUrl"+a]};this.fileList.push(r)}this.GetBranchByCode(e.RefrenceBranchCode)},GetBranchByCode:function(a){var r=this;return l()(N.a.mark(function t(){var e;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.i(O._51)({branchcode:a});case 2:e=t.sent,r.formData.RefrenceHospitalName=e.Branch.HospitalName?e.Branch.HospitalName:"";case 4:case"end":return t.stop()}},t,r)}))()}}}},450:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".flex-box[data-v-22b52a7a]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;width:100%;margin-bottom:5px;background:#f9f9f9}.flex-box .flex-item[data-v-22b52a7a]{-webkit-box-flex:0;-ms-flex:0 50%;flex:0 50%;margin-top:10px}.foot-div[data-v-22b52a7a]{background:#f9f9f9}.reportManage[data-v-22b52a7a]{font-size:12px;position:relative;margin:0;padding:0;overflow:auto}",""])},451:function(t,e,a){var r=a(450);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(216)("203f4032",r,!0)},452:function(t,e,a){a(451);var r=a(98)(a(449),a(453),"data-v-22b52a7a",null);t.exports=r.exports},453:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"reportManage"},[r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("项目信息")]),a._v(" "),r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-item"},[r("el-form",{ref:"formAdd1",attrs:{"label-position":"right","label-width":"120px",model:a.formData}},[r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"订单日期："}},[r("span",[a._v(a._s(a.formData.OrderDate.substring(0,10))+" ")])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"类型："}},[r("span",[a._v(a._s(a.formData.ConsumeTypeName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"客户："}},[r("span",[a._v(a._s(a.formData.customerName)+"["+a._s(a.formData.customerId)+"]")])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"项目："}},[r("span",[a._v(a._s(a.formData.projectName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"项目类型："}},[0==a.formData.projectType?r("span",[a._v("年卡/疗程")]):a._e(),a._v(" "),1==a.formData.projectType?r("span",[a._v("单次")]):a._e()]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"疗程：",prop:"refrenceBranchCode"}},[r("span",[a._v(a._s(a.formData.course))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"医院：",prop:"hospitalName"}},[r("span",[a._v(a._s(a.formData.hospitalName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"咨询师："}},[r("span",[a._v(a._s(a.formData.MarketConsultantName))]),a._v(" "),a.formData.MarketConsultantCode?r("span",[a._v("["+a._s(a.formData.MarketConsultantCode)+"]")]):a._e()]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"设计师：",prop:"refrenceBranchCode"}},[r("span",[a._v(a._s(a.formData.designerName))])]),a._v(" "),"001"!=a.serTypeCode&&"003"!=a.serTypeCode?r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"实际价格：",prop:"refrenceBranchCode"}},[r("span",[a._v(a._s(a.formData.RealPrice))])]):a._e()],1)],1),a._v(" "),r("div",{staticClass:"flex-item"},[r("el-form",{ref:"formAdd2",attrs:{"label-position":"right","label-width":"120px",model:a.formData}},[r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"订单编号"}},[r("span",[a._v(a._s(a.formData.fxCode))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"支付类型："}},[r("span",[a._v(a._s(a.formData.MedicalTypeName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"纸质单号：",prop:"formNO"}},[r("span",[a._v(a._s(a.formData.formNO))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"推荐人：",prop:"refrenceBranchCode"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:""!==a.formData.refrenceBranchCode,expression:"formData.refrenceBranchCode!==''"}]},[a._v(a._s(a.formData.refrenceBranchName+"["+a.formData.refrenceBranchCode+"]")+"\n                            "),a.formData.RefrenceBranchTags?r("span",[a._v("("+a._s(a.formData.RefrenceBranchTags)+")")]):a._e()]),a._v(" "),r("div",[a._v("医院："+a._s(a.formData.RefrenceHospitalName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"规格："}},[r("span",[a._v(a._s(a.formData.goodsUnitName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"项目价格：",prop:"price"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:""!=a.formData.price,expression:"formData.price!=''"}]},[r("span",{staticStyle:{"font-size":"15px",color:"black"}},[a._v("￥")]),a._v(a._s(a.formData.price))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"专家费：",prop:"serviceFare"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:""!=a.formData.serviceFare,expression:"formData.serviceFare!=''"}]},[a._v(a._s(a.formData.serviceFare)+"元")])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"医生助理：",prop:"doctorAssist"}},[r("span",[a._v(a._s(a.formData.doctorAssistName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"设计师助理：",prop:"designerAssist"}},[r("span",[a._v(a._s(a.formData.designerAssistName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"订单来源：",prop:"designerAssist"}},[r("span",{domProps:{textContent:a._s(1==a.formData.orderType?"app订单":"线下订单")}})])],1)],1)])]),a._v(" "),"001"!=a.serTypeCode&&"003"!=a.serTypeCode?r("div",{staticClass:"flex-box",staticStyle:{"margin-top":"-30px"}},[r("div",{staticClass:"flex-item",staticStyle:{margin:"20px 0px 0 30px","padding-left":"30px",flex:"0 100%"}},[r("el-table",{attrs:{data:a.attachList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ProofDesc",label:"附加项名称","min-width":"60"}}),a._v(" "),r("el-table-column",{attrs:{prop:"TypeName",label:"费用类型","min-width":"60"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Amount",label:"单价","min-width":"60"}},[a._v("\n                    ￥"+a._s(a.formData.Amount)+"\n                ")]),a._v(" "),r("el-table-column",{attrs:{prop:"Quantity",label:"数量","min-width":"60"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Course",label:"总期数","min-width":"65"}}),a._v(" "),r("el-table-column",{attrs:{prop:"CurrentCourse",label:"支付期数","min-width":"65"}}),a._v(" "),r("el-table-column",{attrs:{prop:"SubTotal",label:"总额","min-width":"65"}},[a._v("\n                        ￥"+a._s(a.formData.SubTotal)+"\n                    ")]),a._v(" "),r("el-table-column",{attrs:{prop:"StageAmount",label:"分期总额","min-width":"65"}}),a._v(" "),r("el-table-column",{attrs:{prop:"IsEffective",label:"是否提成"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.IsEffective?r("span",[a._v("是")]):r("span",[a._v("否")])]}}],null,!1,910863426)})],1),a._v(" "),""!=a.formData.OrderAmount?r("p",{staticStyle:{margin:"10px 0"}},[a._v("订单金额: ￥"+a._s(a.formData.OrderAmount)+" ")]):a._e()],1)]):a._e(),a._v(" "),"001"!=a.serTypeCode&&"003"!=a.serTypeCode?r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("支付信息")]),a._v(" "),r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-item",staticStyle:{margin:"10px 0px 0 30px","padding-left":"30px",flex:"0 100%"}},[r("el-table",{attrs:{data:a.payInfoList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),a._v(" "),r("el-table-column",{attrs:{prop:"PayTypeName",label:"支付方式","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[r("span",[a._v(a._s(t.row.PayTypeName))]),a._v(" "),"009"==t.row.PayType?r("span",[a._v(a._s(a._f("filterTypeId")(t.row.TypeId)))]):a._e()]}}],null,!1,3806112968)}),a._v(" "),r("el-table-column",{attrs:{prop:"OnlineOrderCode",label:"app订单号","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"PayDate",label:"支付日期","min-width":"110"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.PayDate?r("span",[a._v(a._s(t.row.PayDate.substring(0,10))+" "+a._s(t.row.PayDate.substring(11,19)))]):a._e()]}}],null,!1,435555505)}),a._v(" "),r("el-table-column",{attrs:{prop:"TicketsCode",label:"券号","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ReceiveAccount",label:"收款账户","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"RealAmount",label:"支付金额","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.RealAmount?r("span",[a._v("\n                                "+a._s(t.row.RealAmount.toQFW())+"\n                            ")]):a._e()]}}],null,!1,1674943245)}),a._v(" "),r("el-table-column",{attrs:{prop:"Memo",label:"备注","min-width":"120","show-overflow-tooltip":""}})],1),a._v(" "),r("div",{staticStyle:{margin:"5px"}},[a._v("\n                    尾款金额："+a._s(a.Retainage)+"\n                ")])],1)])]):a._e(),a._v(" "),r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("执行信息")]),a._v(" "),r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-item",staticStyle:{margin:"10px 0px 0 30px","padding-left":"30px",flex:"0 100%"}},[r("el-table",{attrs:{data:a.commandList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),a._v(" "),r("el-table-column",{attrs:{prop:"DoctorName",label:"执行医生","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"NurseName",label:"执行护士","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"DoctorAssistName",label:"医生助理","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ExecDate",label:"执行时间","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.ExecDate?r("span",[a._v("\n                                "+a._s(t.row.ExecDate.substring(0,10))+"\n                            ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"Memo",label:"备注","min-width":"170","show-overflow-tooltip":""}})],1)],1)])]),a._v(" "),"7"==a.formData.ConsumeTypeId?r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("返款信息")]),a._v(" "),r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-item",staticStyle:{margin:"10px 0px 0 30px","padding-left":"30px",flex:"0 100%"}},[r("el-table",{attrs:{data:a.refundList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"createOn",label:"返款时间","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.createOn?r("span",[a._v(a._s(t.row.createOn.substring(0,10)))]):a._e()]}}],null,!1,2995543066)}),a._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"返款方式","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return["001"==t.row.payType?r("span",[a._v("现金")]):a._e(),a._v(" "),"009"==t.row.payType?r("span",[a._v("积分")]):a._e(),a._v(" "),"008"==t.row.payType?r("span",[a._v("卡券")]):a._e(),a._v(" "),"018"==t.row.payType?r("span",[a._v("预付款")]):a._e()]}}],null,!1,1690063530)}),a._v(" "),r("el-table-column",{attrs:{prop:"worthAmount",label:"返款金额","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"pointAmount",label:"返款积分","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ticketsCode",label:"返款券号","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"createBy",label:"操作人","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"memo",label:"备注","min-width":"150","show-overflow-tooltip":""}})],1)],1)])]):a._e(),a._v(" "),"001"!=a.serTypeCode&&"003"!=a.serTypeCode?r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("退款信息")]),a._v(" "),r("div",{staticClass:"flex-box"},[r("div",{staticClass:"flex-item",staticStyle:{margin:"10px 0px 0 30px","padding-left":"30px",flex:"0 100%"}},[r("el-table",{attrs:{data:a.backList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"createOn",label:"退款时间","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.createOn?r("span",[a._v(a._s(t.row.createOn.substring(0,10)))]):a._e()]}}],null,!1,2995543066)}),a._v(" "),r("el-table-column",{attrs:{prop:"payType",label:"退款方式","min-width":"110"},scopedSlots:a._u([{key:"default",fn:function(t){return["001"==t.row.payType?r("span",[a._v("现金")]):a._e(),a._v(" "),"009"==t.row.payType?r("span",[a._v("积分")]):a._e(),a._v(" "),"008"==t.row.payType?r("span",[a._v("卡券")]):a._e(),a._v(" "),"018"==t.row.payType?r("span",[a._v("预付款")]):a._e()]}}],null,!1,1690063530)}),a._v(" "),r("el-table-column",{attrs:{prop:"ticketsCode",label:"退款券号","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"refundAmount",label:"退款金额","min-width":"120"}}),a._v(" "),r("el-table-column",{attrs:{prop:"createBy",label:"操作人","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"memo",label:"备注","min-width":"200","show-overflow-tooltip":""}})],1)],1)])]):a._e(),a._v(" "),r("div",[r("p",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[a._v("其它信息")]),a._v(" "),r("div",{staticClass:"foot-div"},[r("el-form",{ref:"formAdd3",attrs:{"label-position":"right","label-width":"120px",model:a.formData}},[r("el-form-item",{staticClass:" form_item_mt10",attrs:{label:"错误信息："}},[r("el-table",{attrs:{data:a.errorList,border:"","min-width":"500"}},[r("el-table-column",{attrs:{type:"index",label:"","min-width":"70"}}),a._v(" "),r("el-table-column",{attrs:{prop:"recordName",label:"录单人","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"errorReason",label:"错误原因","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"approverName",label:"审核人","min-width":"110"}}),a._v(" "),r("el-table-column",{attrs:{prop:"approverDate",label:"审核时间","min-width":"110"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.approverDate?r("span",[a._v("\n                               "+a._s(t.row.approverDate.substring(0,10))+"\n                             ")]):a._e()]}}])})],1)],1),a._v(" "),r("el-form-item",{attrs:{label:"备注："}},[r("el-input",{attrs:{disabled:!0,type:"textarea",rows:2},model:{value:a.formData.Memo,callback:function(t){a.$set(a.formData,"Memo",t)},expression:"formData.Memo"}})],1),a._v(" "),r("el-form-item",{attrs:{label:"图片"}},a._l(a.fileList,function(e,t){return r("img",{key:t,attrs:{width:"100",height:"",src:e.url},on:{click:function(t){return a.viewPhoto(e.url)}}})}),0)],1)],1)]),a._v(" "),r("el-dialog",{attrs:{title:"查看图片",visible:a.photoDialog,modal:!1,size:"",top:"40%"},on:{"update:visible":function(t){a.photoDialog=t}}},[r("img",{attrs:{src:a.dialogImg,width:"600",alt:""}})])],1)},staticRenderFns:[]}}});