webpackJsonp([214],{1246:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,"",""])},1671:function(t,e,a){var n=a(1246);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("c4d0bdaa",n,!0)},2143:function(t,e){t.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"settled selCommon"},[a("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:e.formInline,"label-width":"80px"}},[a("el-form-item",{staticClass:"form_item_mt10 ",attrs:{label:"支付日期："}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:e.dateChange},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"医院:"}},[a("el-select",{staticStyle:{width:"200px"},on:{change:e.search},model:{value:e.formInline.Hospital,callback:function(t){e.$set(e.formInline,"Hospital",t)},expression:"formInline.Hospital"}},e._l(e.HospitalList,function(t,e){return a("el-option",{key:e,attrs:{label:t.supplierName,value:t.code}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"销售公司："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:e.formInline.branch,callback:function(t){e.$set(e.formInline,"branch",t)},expression:"formInline.branch"}},e._l(e.branchList,function(t){return a("el-option",{key:t.branchName,attrs:{label:t.branchName,value:t.code}})}),1)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"项目类型："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:e.formInline.itemType,callback:function(t){e.$set(e.formInline,"itemType",t)},expression:"formInline.itemType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"代理费",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"券",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"充值",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"升级",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"额外费",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"服务商注册费",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"项目明细："}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:e.formInline.itemDetail,callback:function(t){e.$set(e.formInline,"itemDetail",t)},expression:"formInline.itemDetail"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"买套餐",value:"买套餐"}}),e._v(" "),a("el-option",{attrs:{label:"卡券",value:"卡券"}}),e._v(" "),a("el-option",{attrs:{label:"充值",value:"充值"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:" "}},[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"min_table smt",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:e.tableData,border:"","max-height":"600","summary-method":e.getSummaries,"show-summary":""}},[a("el-table-column",{attrs:{prop:"orderDate ",label:"开单日期","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.payDate?a("span",[e._v("\n                      "+e._s(t.row.payDate.substring(0,10))+"\n                  ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"payDate  ",label:"支付日期","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.payDate?a("span",[e._v("\n                      "+e._s(t.row.payDate.substring(0,10))+"\n                  ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hospitalName",label:"医院","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receiveBranchName",label:"代理商","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"客户","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"项目类型","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.itemType?a("span",[e._v("代理费")]):e._e(),e._v(" "),2==t.row.itemType?a("span",[e._v("券")]):e._e(),e._v(" "),3==t.row.itemType?a("span",[e._v("充值")]):e._e(),e._v(" "),4==t.row.itemType?a("span",[e._v("升级")]):e._e(),e._v(" "),6==t.row.itemType?a("span",[e._v("服务商费用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"itemDetail",label:"项目明细","min-width":"100","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"customerName",label:"项目备注","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.memo?a("span",[e._v("\n                      "+e._s(t.row.memo)+"\n                  ")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"realAmount",label:"金额","min-width":"100",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[e._v("\n                      "+e._s(t.row.realAmount.toQFW())+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"procFee",label:"手续费","min-width":"100",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[e._v("\n                      "+e._s(t.row.procFee.toQFW())+"\n                ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"合计","min-width":"100",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{float:"right"}},[e._v("\n                      "+e._s(t.row.amount.toQFW())+"\n                  ")])]}}])})],1),e._v(" "),a("div",[e._v("共计 "+e._s(e.total)+" 条数据")])],1)},staticRenderFns:[]}},247:function(t,e,a){a(1671);var n=a(98)(a(940),a(2143),"data-v-0eae2e7b",null);t.exports=n.exports},940:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(100),r=l.n(a),n=l(99),i=l.n(n),o=l(64),s=l(65);l.n(s);e.default={data:function(){return{date:"",total:0,size:10,currentPage:1,HospitalList:[],branchList:[],formInline:{branch:"",Hospital:"",startDate:"",endDate:"",itemType:"",itemDetail:""},tableData:[],loading:!1}},computed:{},mounted:function(){var t=new Date;t.setDate(1),this.date=[t,new Date],this.getSupplierByPage()},methods:{getSummaries:function(t){var e=t.columns,n=t.data,l=[];return e.forEach(function(e,t){if(0!==t){var a=n.map(function(t){return Number(t[e.property])});a.every(function(t){return isNaN(t)})?l[t]="":(l[t]=a.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t.add(e)},0),l[t]=l[t].toQFW())}else l[t]="合计"}),l},dateChange:function(t){t?(t=t.formatDates(),this.formInline.startDate=t.substring(0,10),this.formInline.endDate=t.substring(13)):(this.formInline.startDate="",this.formInline.endDate="")},GetBranchReceiveList:function(a){var n=this;return i()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.i(o._274)(a);case 3:e=t.sent,n.loading=!1,e.status?(n.total=e.data.length,e.data.forEach(function(t){t.amount=t.realAmount+t.procFee}),n.tableData=e.data):n.$message({type:"error",message:"查询失败!"+e.errorMessage}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,n,[[0,8]])}))()},getSupplierByPage:function(){var n=this;return i()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.i(o.d)({typeId:2});case 2:return e=t.sent,n.branchList=e.data,n.formInline.branch=e.data[0].code,t.next=7,l.i(o.d)({typeId:1});case 7:a=t.sent,n.formInline.Hospital=a.data[0].code,n.HospitalList=a.data;case 10:case"end":return t.stop()}},t,n)}))()},search:function(){this.currentPage=1,this.submit()},submit:function(){this.loading=!0,this.GetBranchReceiveList({startDate:this.formInline.startDate,endDate:this.formInline.endDate,pageIndex:this.currentPage,pageSize:this.size,branchCode:this.formInline.branch,hospitalcode:this.formInline.Hospital,itemType:this.formInline.itemType,itemDetail:this.formInline.itemDetail})},handleSizeChange:function(t){this.size=t,this.submit()},handleCurrentChange:function(t){this.currentPage=t,this.submit()}},components:{}}}});