webpackJsonp([43],{1192:function(t,e,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=b(103),k=b.n(a),n=b(100),g=b.n(n),i=b(99),s=b.n(i),r=b(37),o=b.n(r),p=b(22),y=b(64);b(1).default.component("my-item-tickets",{functional:!0,render:function(t,e){var a=e.props.item;return t("div",e.data,[t("p",{attrs:{class:"name"}},["券名称："+a.TickName]),t("p",{attrs:{class:"name"}},["券号："+a.TickInfoCode]),t("p",{attrs:{class:"name"}},["券面值："+a.FaceValue]),t("p",{attrs:{class:"name"}},["券类型："+a.Type]),t("p",{attrs:{class:"name"}},["折扣："+a.discount])])},props:{item:{type:Object,required:!0}}}),e.default={props:{editMes:{}},data:function(){return{saveLoading:!1,dialogDet:!1,customer:"",isDrug:!1,ruleForm:{wareHouse:"",ticketInType:"",buyer:"",date:new Date,hospital:"",operator:b.i(p.b)("userName"),memo:"",number:""},typeList:["印制入库","调拨入库"],tableData:[],hospitalList:[],fromHospitalList:[],formHospitalList:[],fromWhlist:[],whList:[],allWhlist:[],customerList:[],yearList:[],monthList:[],tickets:{},returnIndex:Number,scanIndex:""}},mounted:function(){this.GetBaseDataAll()},watch:{"ruleForm.hospital":{handler:function(t,e){""!=e&&(this.ruleForm.wareHouse="")},deep:!0},"ruleForm.ticketInType":{handler:function(){this.editMes.view||(this.tableData=[],this.customer="")},deep:!0}},methods:{changeCode:function(t,e){var a=this;this.tableData.push(),this.scanIndex=e,t.scanDialog&&setTimeout(function(){a.scan(t.scanDialog)},20)},scanning:function(t,e){e.ticketPrefixCode&&""!=String(e.numCount)?(this.scanIndex=t,this.$emit("openScan",e.scanDialog?e.scanDialog:{})):this.$message({message:"请填写流水号和前缀",type:"warning"})},scan:function(t){var c=this,u=this;this.tableData[this.scanIndex].scanDialog=t;var d=[],m=!0;this.tableData[this.scanIndex].rangeDetailInJson=[],t.space.forEach(function(t){if(t.endNum){var e=u.tableData[u.scanIndex].numCount?u.tableData[u.scanIndex].numCount:5,a=u.tableData[u.scanIndex].ticketPrefixCode,n=t.startNum,i=t.endNum;if(e<String(i).length)m=!1,c.$alert("流水位数过小！请修改,否则将影响生成的券号","提示",{confirmButtonText:"确定",callback:function(){return!1}});else{for(var s=n;s<i+1;s++){for(var r="",o=Number(e)-String(s).length,l=0;l<o;l++)r+="0";d.push(a+r+s)}u.tableData[u.scanIndex].rangeDetailInJson.push({startNum:n,endNum:i,ticketCodes:d.join(","),createUserId:b.i(p.b)("userId"),createBy:b.i(p.b)("userName")})}}else c.tableData[c.scanIndex].rangeDetailInJson.push({startNum:"",endNum:"",ticketCodes:t.ticketCodes,createUserId:b.i(p.b)("userId"),createBy:b.i(p.b)("userName")}),t.ticketCodes.split(",").forEach(function(t){d.push(t)})}),m&&this.makeMixCode(d)},makeMixCode:function(t){var e=JSON.parse(o()(t));t&&(this.tableData[this.scanIndex].ticketCodes=e.join(","),this.tableData[this.scanIndex].ticketCodesArr=e,this.tableData[this.scanIndex].totalAmount=this.tableData[this.scanIndex].salePrice.mul(e.length),this.tableData[this.scanIndex].quantity=e.length),this.tableData.push()},addTickets:function(t){this.returnIndex=t,this.ruleForm.number="",this.dialogDet=!0},returnSave:function(){var t=this.ruleForm.number.split(",").join("");isNaN(t)?this.$message({message:"警告,输入的券号不符合规则，请检查后重新输入",type:"warning"}):(this.tableData[this.returnIndex].Codes=this.ruleForm.number,this.dialogDet=!1)},hosChange:function(t){var e=this;this.ruleForm.warehouseId="";var a=t.split("|")[1];a?(this.whList=[],this.allWhlist.forEach(function(t){t.hospitalCode==a&&e.whList.push(t)})):this.whList=JSON.parse(o()(this.allWhlist))},numChange:function(t,e){var a=this;window.clearTimeout(),setTimeout(function(){isNaN(e.quantity)||(a.tableData[t].totalAmount=e.quantity.mul(e.salePrice)),a.tableData.push()},100)},GetTicketInDetail:function(a){var n=this;return s()(g.a.mark(function t(){var e;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.i(y.E)({id:a});case 2:e=t.sent,n.tableData=e.data.stockTicketInDetailList;case 4:case"end":return t.stop()}},t,n)}))()},getTickets:function(f,h){var v=this;return s()(g.a.mark(function t(){var e,a,n,i,s,r,o,l,c,u,d,m,p;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(v.customerList=[],e=void 0,h)return t.next=5,b.i(y.c)({keywords:f.removeSP()});t.next=8;break;case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,b.i(y.z)({keywords:f.removeSP(),hospitalCode:v.getIdOrName(v.ruleForm.hospital,1),warehouseId:v.getIdOrName(v.ruleForm.wareHouse,1)});case 10:e=t.sent;case 11:if(!(e instanceof Array&&0<e.length||e.status)){t.next=53;break}if(!h){t.next=34;break}for(n=!(a=!0),i=void 0,t.prev=16,s=k()(e);!(a=(r=s.next()).done);a=!0)(o=r.value).Type=v.getType(o.TicketsType),o.FaceValue=o.FaceValue?o.FaceValue:"",o.value=o.TickName,o.discount=o.Discount?o.Discount+"%":"",v.customerList.push(o);t.next=24;break;case 20:t.prev=20,t.t0=t.catch(16),n=!0,i=t.t0;case 24:t.prev=24,t.prev=25,!a&&s.return&&s.return();case 27:if(t.prev=27,n)throw i;t.next=30;break;case 30:return t.finish(27);case 31:return t.finish(24);case 32:t.next=53;break;case 34:for(c=!(l=!0),u=void 0,t.prev=37,d=k()(e.data);!(l=(m=d.next()).done);l=!0)(p=m.value).numCount=null==p.numCount?"":p.numCount,p.FaceValue=p.FaceValue?p.FaceValue:"",p.value=p.ticketName,v.customerList.push(p);t.next=45;break;case 41:t.prev=41,t.t1=t.catch(37),c=!0,u=t.t1;case 45:t.prev=45,t.prev=46,!l&&d.return&&d.return();case 48:if(t.prev=48,c)throw u;t.next=51;break;case 51:return t.finish(48);case 52:return t.finish(45);case 53:case"end":return t.stop()}},t,v,[[16,20,24,32],[25,,27,31],[37,41,45,53],[46,,48,52]])}))()},getType:function(t){switch(t){case 1:return"折扣券";case 2:return"现金券";case 3:return"门票"}},queryTicket:function(t,e){this.customerList=[],""!==t&&null!=t&&this.getTickets(t,1);var a=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e(a.customerList)},1e3)},selectTick:function(e){var a=this,n=!0;this.tableData.forEach(function(t){t.ticketId==e.Id&&(a.$message({message:"警告,选择券已存在列表中，请直接修改数量",type:"warning"}),n=!1)}),n&&this.tableData.push({ticketCodes:"",ticketCodesArr:[],ticketId:e.Id,ticketName:e.TickName,quantity:0,totalAmount:0,numCount:5,salePrice:e.Price,createBy:b.i(p.b)("userName"),createUserId:b.i(p.b)("userId"),ticketPrefixCode:"",rangeDetailInJson:[]})},GetBaseDataAll:function(){var r=this;return s()(g.a.mark(function t(){var e,a,n,i,s;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={startdate:"",enddate:"",suppliername:"",suptypecode:"",phonenumber:"",pageindex:1,pagesize:1e3},t.next=4,b.i(y.x)(e);case 4:return a=t.sent,r.fromHospitalList=a,t.next=8,b.i(y.d)({typeId:1});case 8:return n=t.sent,r.hospitalList=n.data,b.i(p.b)("hospitalCode")&&r.hospitalList.forEach(function(t){t.code==b.i(p.b)("hospitalCode")&&(r.ruleForm.hospital=t.supplierName+"|"+t.code+"|"+t.prefixCode)}),t.next=13,b.i(y.e)({hospitalCode:"",pageIndex:1,pageSize:100,keywords:"",typeId:2});case 13:if(i=t.sent,b.i(p.b)("hospitalCode")?i.data.forEach(function(t){t.hospitalCode==b.i(p.b)("hospitalCode")&&r.whList.push(t)}):r.whList=i.data,r.allWhlist=JSON.parse(o()(i.data)),r.editMes.ticketInCode)return t.next=19,b.i(y.E)({id:r.editMes.id});t.next=23;break;case 19:(s=t.sent).data.stockTicketInDetailList.forEach(function(e){e.scanDialog={activeName:1,space:[]},e.rangeDetailInJson=e.rangeDetailInList,e.rangeDetailInList.forEach(function(t){e.scanDialog.space.push({endNum:t.endNum,startNum:t.startNum,ticketCodes:t.ticketCodes})})}),r.tableData=s.data.stockTicketInDetailList,r.copyData(s.data.stockTicketIn);case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(0),console.log(t.t0);case 28:case"end":return t.stop()}},t,r,[[0,25]])}))()},copyData:function(t){for(var e in t)null==t[e]&&(t[e]="");this.ruleForm={id:t.id,ticketInCode:t.ticketInCode,wareHouse:0<t.warehouseName.length?t.warehouseName+"|"+t.warehouseId:"",ticketInType:t.ticketInType,hospital:t.hospitalName+"|"+t.hospitalCode,operator:t.createBy,memo:t.memo,ticketPrefixCode:this.tableData[0]?this.tableData[0].ticketPrefixCode:"",numCount:this.tableData[0]?this.tableData[0].numCount:"",number:this.tableData[0]?this.tableData[0].ticketCodes:""},t.ticketInDate&&this.$set(this.ruleForm,"date",new Date(t.ticketInDate.substring(0,4),Number(t.ticketInDate.substring(5,7))-1,t.ticketInDate.substring(8,10)))},deleteRow:function(t,e){e.splice(t,1)},sure:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return!1;if(!a.getTableChech())return a.$message({message:"请至少添加一条卡券信息并保持数据完整",type:"warning"}),!1;var e={ticketInDate:a.ruleForm.date.formatDate("yyyy-MM-dd"),hospitalCode:a.getIdOrName(a.ruleForm.hospital,1),hospitalName:a.getIdOrName(a.ruleForm.hospital,0),ticketInType:a.ruleForm.ticketInType,warehouseId:a.getIdOrName(a.ruleForm.wareHouse,1),warehouseName:a.getIdOrName(a.ruleForm.wareHouse,0),memo:a.ruleForm.memo,ticketInDetailList:o()(a.tableC(a.tableData))};a.saveLoading=!0,a.editMes.ticketInCode?(e.id=a.ruleForm.id,e.ticketInCode=a.ruleForm.ticketInCode,e.modifiedUserId=b.i(p.b)("userId"),e.modifiedBy=b.i(p.b)("userName"),a.UpdatestockTicketIn(e)):(e.createUserId=b.i(p.b)("userId"),e.createBy=b.i(p.b)("userName"),a.AddStockTicketIn(e))})},getTableChech:function(){var e=!0;return 0!=this.tableData.length&&(this.tableData.forEach(function(t){""===t.ticketPrefixCode&&(e=!1)}),e)},tableC:function(t){var e=JSON.parse(o()(t));return e.forEach(function(t){t.ticketPrefixCode=t.ticketPrefixCode.toLocaleUpperCase(),t.rangeDetailInJson=o()(t.rangeDetailInJson)}),e},splitTocketCode:function(i){var s=this,t=i.Codes.split(","),r=[];return t.forEach(function(t){if(0<String(t).length){for(var e=s.ruleForm.numCount-String(t).length,a="",n=0;n<e;n++)a+="0";r.push(i.Codes.ticketPrefixCode+a+t)}}),r.join(",")},AddStockTicketIn:function(a){var n=this;return s()(g.a.mark(function t(){var e;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.i(y.H)(a);case 2:(e=t.sent).status?(n.$message({message:"添加成功",type:"success"}),n.$emit("addClose",!0)):n.$alert(e.errorMessage,"添加失败",{confirmButtonText:"确定",type:"warning",callback:function(){}}),n.saveLoading=!1;case 5:case"end":return t.stop()}},t,n)}))()},UpdatestockTicketIn:function(a){var n=this;return s()(g.a.mark(function t(){var e;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.i(y.I)(a);case 2:(e=t.sent).status?(n.$message({message:"编辑成功",type:"success"}),n.$emit("addClose",!0)):n.$alert(e.errorMessage,"编辑失败",{confirmButtonText:"确定",type:"warning",callback:function(){}}),n.saveLoading=!1;case 5:case"end":return t.stop()}},t,n)}))()},getIdOrName:function(t,e){return 0<t.length?t.split("|")[e]:""},cancel:function(){this.$emit("addClose",!1)}},components:{}}},1193:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(100),s=i.n(a),n=i(99),r=i.n(n),o=(i(22),i(64));i(1).default.component("my-item-tickets",{functional:!0,render:function(t,e){var a=e.props.item;return t("li",e.data,[t("p",{attrs:{class:"name"}},["券名称："+a.TickName]),t("p",{attrs:{class:"name"}},["券号："+a.TickInfoCode]),t("p",{attrs:{class:"name"}},["券面值："+a.FaceValue]),t("p",{attrs:{class:"name"}},["券类型："+a.Type]),t("p",{attrs:{class:"name"}},["折扣："+a.discount])])},props:{item:{type:Object,required:!0}}}),e.default={props:{editMes:{}},data:function(){return{saveLoading:!1,dialogDet:!1,customer:"",ruleForm:{},tableData:[],tickets:{}}},mounted:function(){this.GetBaseDataAll()},watch:{"ruleForm.hospital":{handler:function(t,e){""!=e&&(this.ruleForm.wareHouse="")},deep:!0},"ruleForm.ticketInType":{handler:function(){this.editMes.view||(this.tableData=[],this.customer="")},deep:!0}},methods:{viewTicket:function(t){var e=[];t.rangeDetailInList.forEach(function(t){e=e.concat(t.ticketCodes.split(","))}),this.$emit("viewTicket",e)},GetTicketInDetail:function(a){var n=this;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.i(o.E)({id:a});case 2:e=t.sent,n.tableData=e.data.stockTicketInDetailList;case 4:case"end":return t.stop()}},t,n)}))()},GetBaseDataAll:function(){var a=this;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.i(o.E)({id:a.editMes.id});case 3:e=t.sent,a.tableData=e.data.stockTicketInDetailList,a.ruleForm=e.data.stockTicketIn,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,a,[[0,8]])}))()}},components:{}}},1198:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(37),n=s.n(a),i=s(100),r=s.n(i),o=s(99),l=s.n(o),c=(s(101),s(65)),u=(s.n(c),s(22),s(2107)),d=s.n(u),m=s(2108),p=s.n(m),f=s(784),h=s.n(f),v=s(659),b=s.n(v),k=s(64),g=s(436),y=s.n(g);e.default={data:function(){return{ticketList:[],ticketsDet:!1,dialogView:!1,ticketsInfo:!1,date:"",editMes:[],loading:!1,title:"",dialogAdd:!1,dialogMemo:!1,total:0,size:10,typeList:["印制入库","调拨入库"],currentPage:1,formInline:{warehouseId:"",stockSupplierCode:"",keywords:"",typeCode:"",hospitalCode:"",ticketInType:""},tableData:[],hospitalList:[],whList:[],allwhList:[],allData:[]}},computed:{tHeader:function(){return["入库编号","入库日期","医院","入库类别","入库仓库","入库金额","入库人","填制日期","备注"]},filterVal:function(){return["ticketInCode","ticketInDate","hospitalName","ticketInType","warehouseName","ticketInAmount","createBy","createOn","memo"]},tableData1:function(){return this.allData},name:function(){return"卡券入库"}},mounted:function(){this.date=[new Date,new Date],this.GetDropDownPermission()},methods:{viewTicket:function(t){this.ticketsDet=!0,this.ticketList=t},openScan:function(t){var e=this;this.ticketsInfo=!0,this.$nextTick(function(){e.$refs.scanDialog.viewData(t)})},scanTick:function(t,e){this.$refs.addS.scan(e),this.ticketsInfo=!1},hosChange:function(e){var a=this;this.formInline.warehouseId="",this.whList=[],this.allwhList.forEach(function(t){e==t.hospitalCode&&a.whList.push(t)})},UpdateMemo:function(){var a=this;return l()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.updateMes.memo=a.editMes.memo,t.next=3,s.i(k.D)(a.updateMes);case 3:(e=t.sent).status?(a.$message({message:"修改成功",type:"success"}),a.search(),a.dialogMemo=!1):a.$message.error("修改失败"+e.errorMessage);case 5:case"end":return t.stop()}},t,a)}))()},cancel:function(){this.dialogMemo=!1},dbClick:function(t){this.editMes=JSON.parse(n()(t)),this.dialogMemo=!0,this.GetTicketInDetail(t.id)},GetTicketInDetail:function(a){var n=this;return l()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.i(k.E)({id:a});case 2:e=t.sent,n.updateMes=e.data.stockTicketIn,n.upTableData=e.data.stockTicketInDetailList;case 5:case"end":return t.stop()}},t,n)}))()},exportTbale:function(){this.GetTicketIn({hospitalCode:this.formInline.hospitalCode,startDate:this.formInline.startDate,endDate:this.formInline.endDate,pageIndex:this.currentPage,pageSize:this.total,ticketInType:this.formInline.ticketInType,keywords:this.formInline.keywords.removeSP()},"export")},print:function(t){var e=document.location.protocol+"//"+document.location.hostname+(80==document.location.port||""==document.location.port?"":":"+document.location.port)+"/";window.open(e+"print/printTickets.html?id="+t.id)},dateChange:function(t){t?(t=t.formatDates(),this.formInline.startDate=t.substring(0,10),this.formInline.endDate=t.substring(13)):(this.formInline.startDate="",this.formInline.endDate="")},GetDropDownPermission:function(){var n=this;return l()(r.a.mark(function t(){var e,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.i(k.d)({typeId:1});case 2:return e=t.sent,n.hospitalList=e.data,n.formInline.hospitalCode=e.data[0].code,t.next=7,s.i(k.e)({hospitalCode:"",pageIndex:1,pageSize:100,keywords:"",typeId:2});case 7:a=t.sent,n.allwhList=a.data;case 9:case"end":return t.stop()}},t,n)}))()},DeleteStockTicketInById:function(e){var a=this;return l()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.i(k.F)(e);case 3:t.sent.status?(a.$message({message:"删除成功",type:"success"}),a.search()):a.$message.error("删除失败"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),a.$message.error("删除失败");case 11:case"end":return t.stop()}},t,a,[[0,7]])}))()},GetTicketIn:function(a,n){var i=this;return l()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.i(k.G)(a);case 3:e=t.sent,n?(i.allData=e.data,i.$refs.exportTable.handleDownload()):(i.tableData=e.data,i.total=e.count),i.loading=!1,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,i,[[0,8]])}))()},onSubmit:function(){this.currentPage=1,this.search()},search:function(){this.loading=!0,this.GetTicketIn({hospitalCode:this.formInline.hospitalCode,startDate:this.formInline.startDate,endDate:this.formInline.endDate,pageIndex:this.currentPage,pageSize:this.size,ticketInType:this.formInline.ticketInType,keywords:this.formInline.keywords.removeSP()})},handleSizeChange:function(t){this.size=t,this.search()},handleCurrentChange:function(t){this.currentPage=t,this.search()},addTag:function(t,e,a){this.title=t,a?(this.editMes=JSON.parse(n()(a[e])),this.editMes.view=!0):this.editMes={},"详情"==t?this.dialogView=!0:this.dialogAdd=!0},deleteRow:function(t,e){var a=this;this.$confirm("此操作将删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.DeleteStockTicketInById({id:e[t].id})}).catch(function(){})},addClose:function(t){this.dialogAdd=!1,t&&this.search()}},components:{Export:y.a,viewDialog:b.a,add:d.a,scan:h.a,addView:p.a}}},1415:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".form_span[data-v-62c85f1c]{display:block;line-height:40px}",""])},1430:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,"",""])},1516:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".form_footer[data-v-e069321a]{margin-top:10px;text-align:center}.tag[data-v-e069321a]{margin:5px}",""])},1840:function(t,e,a){var n=a(1415);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("7de2e6ea",n,!0)},1855:function(t,e,a){var n=a(1430);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("5965b2fa",n,!0)},1941:function(t,e,a){var n=a(1516);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("52345930",n,!0)},2107:function(t,e,a){a(1840);var n=a(98)(a(1192),a(2313),"data-v-62c85f1c",null);t.exports=n.exports},2108:function(t,e,a){a(1855);var n=a(98)(a(1193),a(2328),"data-v-6c504161",null);t.exports=n.exports},2313:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"selCommon editRegister"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:a.ruleForm,inline:!0,"label-width":"85px"}},[n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库日期：",prop:"date",rules:[{type:"date",required:!0,message:"不能为空"}]}},[n("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:a.ruleForm.date,callback:function(t){a.$set(a.ruleForm,"date",t)},expression:"ruleForm.date"}})],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"医院：",prop:"hospital",rules:[{required:!0,message:"不能为空"}]}},[n("el-select",{staticStyle:{width:"200px"},on:{change:a.hosChange},model:{value:a.ruleForm.hospital,callback:function(t){a.$set(a.ruleForm,"hospital",t)},expression:"ruleForm.hospital"}},a._l(a.hospitalList,function(t,e){return t.code?n("el-option",{key:e,attrs:{label:t.supplierName,value:t.supplierName+"|"+t.code}}):a._e()}),1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库类别：",prop:"ticketInType",rules:[{required:!0,message:"不能为空"}]}},[n("el-select",{staticStyle:{width:"200px"},model:{value:a.ruleForm.ticketInType,callback:function(t){a.$set(a.ruleForm,"ticketInType",t)},expression:"ruleForm.ticketInType"}},a._l(a.typeList,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库仓库：",prop:"wareHouse",rules:[{required:!0,message:"不能为空"}]}},[n("el-select",{staticStyle:{width:"200px"},model:{value:a.ruleForm.wareHouse,callback:function(t){a.$set(a.ruleForm,"wareHouse",t)},expression:"ruleForm.wareHouse"}},a._l(a.whList,function(t,e){return n("el-option",{key:e,attrs:{label:t.warehouseName,value:t.warehouseName+"|"+t.id}})}),1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"操作人："}},[n("span",[a._v(a._s(a.ruleForm.operator))])]),a._v(" "),n("el-form-item",{staticClass:"form_item_mt0",staticStyle:{width:"100%"},attrs:{label:"卡券："}},[n("el-autocomplete",{staticStyle:{width:"200px"},attrs:{"fetch-suggestions":a.queryTicket,placeholder:"请输入内容","trigger-on-focus":!1},on:{select:a.selectTick},scopedSlots:a._u([{key:"default",fn:function(t){var e=t.item;return[n("my-item-tickets",{attrs:{item:e}})]}}]),model:{value:a.customer,callback:function(t){a.customer=t},expression:"customer"}}),a._v(" "),n("span",{staticStyle:{color:"red",display:"inline-block","vertical-align":"top"}},[a._v("(选择卡券添加到下表)")])],1),a._v(" "),n("el-form-item",{attrs:{label:" ","label-width":"20px"}},[n("el-table",{staticStyle:{width:"950px","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"400"}},[n("el-table-column",{attrs:{prop:"ticketName",label:"券名称","min-width":"100"}}),a._v(" "),n("el-table-column",{attrs:{prop:"quantity",label:"数量","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.quantity))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"salePrice",label:"售价","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-input-number",{staticStyle:{width:"90%"},attrs:{debounce:1e3,placeholder:"",controls:!1,min:0},on:{change:function(t){return a.numChange(e.$index,e.row)}},model:{value:e.row.salePrice,callback:function(t){a.$set(e.row,"salePrice",t)},expression:"scope.row.salePrice"}})]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"totalAmount",label:"金额","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-input-number",{staticStyle:{width:"90%"},attrs:{debounce:1e3,placeholder:"",controls:!1,min:0},model:{value:e.row.totalAmount,callback:function(t){a.$set(e.row,"totalAmount",t)},expression:"scope.row.totalAmount"}})]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"startNum",label:"出券前缀",width:"170"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-input",{staticStyle:{width:"90%"},on:{change:function(t){return a.changeCode(e.row,e.$index)}},model:{value:e.row.ticketPrefixCode,callback:function(t){a.$set(e.row,"ticketPrefixCode",t)},expression:"scope.row.ticketPrefixCode"}})]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"numCount",label:"流水号位数","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-input-number",{staticStyle:{width:"90%"},attrs:{placeholder:"",controls:!1,min:0},on:{change:function(t){return a.changeCode(e.row,e.$index)}},model:{value:e.row.numCount,callback:function(t){a.$set(e.row,"numCount",t)},expression:"scope.row.numCount"}})]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"status",label:"操作",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.scanning(e.$index,e.row)}}},[a._v("扫描券号")]),a._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.deleteRow(e.$index,a.tableData)}}},[a._v("删除")])]}}])})],1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt1",attrs:{label:"备注："}},[n("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:4},model:{value:a.ruleForm.memo,callback:function(t){a.$set(a.ruleForm,"memo",t)},expression:"ruleForm.memo"}})],1)],1),a._v(" "),n("div",{staticClass:"form_footer"},[n("el-button",{attrs:{type:"primary",loading:a.saveLoading},on:{click:function(t){return a.sure("ruleForm")}}},[a._v("保存")]),a._v(" "),n("el-button",{on:{click:function(t){return a.cancel("ruleForm")}}},[a._v("取消")])],1),a._v(" "),n("el-dialog",{attrs:{title:"添加券号",visible:a.dialogDet,size:"",modal:!1},on:{"update:visible":function(t){a.dialogDet=t}}},[n("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"请输入券号，多个使用逗号分隔",type:"textarea",rows:4},model:{value:a.ruleForm.number,callback:function(t){a.$set(a.ruleForm,"number",t)},expression:"ruleForm.number"}}),a._v(" "),n("div",{staticClass:"form_footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.returnSave("ruleForm")}}},[a._v("保存")]),a._v(" "),n("el-button",{on:{click:function(t){a.dialogDet=!1}}},[a._v("取消")])],1)],1)],1)},staticRenderFns:[]}},2328:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"selCommon editRegister"},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:a.ruleForm,inline:!0,"label-width":"85px"}},[n("el-form-item",{staticClass:"form_item_mt10",staticStyle:{width:"300px"},attrs:{label:"入库日期："}},[n("span",[a._v(a._s(a.ruleForm.ticketInDate.substring(0,10)))])]),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",staticStyle:{width:"300px"},attrs:{label:"医院："}},[n("span",[a._v(a._s(a.ruleForm.hospitalName))])]),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",staticStyle:{width:"300px"},attrs:{label:"入库类别："}},[n("span",[a._v(a._s(a.ruleForm.ticketInType))])]),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",staticStyle:{width:"300px"},attrs:{label:"入库仓库："}},[n("span",[a._v(a._s(a.ruleForm.warehouseName))])]),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",staticStyle:{width:"300px"},attrs:{label:"操作人："}},[n("span",[a._v(a._s(a.ruleForm.createBy))])]),a._v(" "),n("el-form-item",{attrs:{label:" ","label-width":"20px"}},[n("el-table",{staticStyle:{width:"950px","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"400"}},[n("el-table-column",{attrs:{prop:"ticketName",label:"券名称","min-width":"100"}}),a._v(" "),n("el-table-column",{attrs:{prop:"quantity",label:"数量","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.quantity))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"salePrice",label:"售价","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.salePrice))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"totalAmount",label:"金额","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.totalAmount))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"startNum",label:"出券前缀",width:"170"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.ticketPrefixCode))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"numCount",label:"流水号位数","min-width":"70"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("span",[a._v(a._s(t.row.numCount))])]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"status",label:"操作",width:"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return a.viewTicket(e.row)}}},[a._v("查看券号")])]}}])})],1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt1",attrs:{label:"备注："}},[n("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:4},model:{value:a.ruleForm.memo,callback:function(t){a.$set(a.ruleForm,"memo",t)},expression:"ruleForm.memo"}})],1)],1)],1)},staticRenderFns:[]}},2416:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"tag selCommon"},[n("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:a.formInline,"label-width":"80px"}},[n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库日期："}},[n("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"选择日期"},on:{change:a.dateChange},model:{value:a.date,callback:function(t){a.date=t},expression:"date"}})],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库编号："}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.onSubmit(t)}},model:{value:a.formInline.keywords,callback:function(t){a.$set(a.formInline,"keywords",t)},expression:"formInline.keywords"}})],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"医院："}},[n("el-select",{staticStyle:{width:"200px"},on:{change:a.hosChange},model:{value:a.formInline.hospitalCode,callback:function(t){a.$set(a.formInline,"hospitalCode",t)},expression:"formInline.hospitalCode"}},a._l(a.hospitalList,function(t,e){return n("el-option",{key:e,attrs:{label:t.supplierName,value:t.code}})}),1)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"仓库："}},[n("el-select",{staticStyle:{width:"200px"},model:{value:a.formInline.warehouseId,callback:function(t){a.$set(a.formInline,"warehouseId",t)},expression:"formInline.warehouseId"}},[n("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.whList,function(t,e){return n("el-option",{key:e,attrs:{label:t.warehouseName,value:t.id}})})],2)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"入库类别："}},[n("el-select",{staticStyle:{width:"200px"},model:{value:a.formInline.ticketInType,callback:function(t){a.$set(a.formInline,"ticketInType",t)},expression:"formInline.ticketInType"}},[n("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.typeList,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),a._v(" "),n("el-form-item",{staticClass:"form_item_mt10",attrs:{label:" "}},[n("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("查询")]),a._v(" "),n("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:function(t){return a.addTag("添加入库")}}},[a._v("添加入库")]),a._v(" "),n("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.exportTbale}},[a._v("导出报表")]),a._v(" "),n("Export",{ref:"exportTable",staticStyle:{display:"none"},attrs:{tHeader:a.tHeader,filterVal:a.filterVal,tableData1:a.tableData1,name:a.name}})],1)],1),a._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"smt min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"560"},on:{"row-dblclick":a.dbClick}},[n("el-table-column",{attrs:{prop:"ticketInCode",label:"入库编号","min-width":"90"}}),a._v(" "),n("el-table-column",{attrs:{prop:"ticketInDate",label:"入库日期","min-width":"90"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.ticketInDate?n("span",[a._v(a._s(t.row.ticketInDate.substring(0,10)))]):a._e()]}}])}),a._v(" "),n("el-table-column",{attrs:{prop:"hospitalName",label:"医院","min-width":"120"}}),a._v(" "),n("el-table-column",{attrs:{prop:"ticketInType",label:"入库类别","min-width":"90",align:"center"}}),a._v(" "),n("el-table-column",{attrs:{prop:"warehouseName",label:"入库仓库","min-width":"90"}}),a._v(" "),n("el-table-column",{attrs:{prop:"ticketName",label:"券名称","min-width":"130"}}),a._v(" "),n("el-table-column",{attrs:{prop:"quantity",label:"入库数量","min-width":"90"}}),a._v(" "),n("el-table-column",{attrs:{prop:"ticketInAmount",label:"入库金额","min-width":"90"}}),a._v(" "),n("el-table-column",{attrs:{prop:"createBy",label:"入库人","min-width":"90"}}),a._v(" "),n("el-table-column",{attrs:{prop:"memo",label:"备注","min-width":"180","show-overflow-tooltip":""}}),a._v(" "),n("el-table-column",{attrs:{prop:"status",label:"操作",width:"250",align:"center"},scopedSlots:a._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"small"},on:{click:function(t){return a.addTag("详情",e.$index,a.tableData)}}},[a._v("查看")]),a._v(" "),n("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"small"},on:{click:function(t){return a.addTag("编辑入库",e.$index,a.tableData)}}},[a._v("编辑")]),a._v(" "),n("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"small"},on:{click:function(t){return a.deleteRow(e.$index,a.tableData)}}},[a._v("删除")]),a._v(" "),n("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"small"},on:{click:function(t){return a.print(e.row)}}},[a._v("打印")])]}}])})],1),a._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,40],"page-size":a.size,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),n("el-dialog",{attrs:{title:a.title,visible:a.dialogAdd,size:""},on:{"update:visible":function(t){a.dialogAdd=t}}},[a.dialogAdd?n("add",{ref:"addS",staticStyle:{width:"1000px"},attrs:{editMes:a.editMes},on:{openScan:a.openScan,addClose:a.addClose}}):a._e()],1),a._v(" "),n("el-dialog",{attrs:{title:"扫描券号",visible:a.ticketsInfo,size:"",top:"10%","close-on-click-modal":!1},on:{"update:visible":function(t){a.ticketsInfo=t}}},[a.ticketsInfo?n("scan",{ref:"scanDialog",staticStyle:{width:"600px","max-height":"1000px"},attrs:{ope:"in"},on:{scanTick:a.scanTick}}):a._e()],1),a._v(" "),n("el-dialog",{attrs:{title:"修改备注",visible:a.dialogMemo,size:""},on:{"update:visible":function(t){a.dialogMemo=t}}},[n("el-input",{staticStyle:{width:"500px"},attrs:{type:"textarea",rows:4},model:{value:a.editMes.memo,callback:function(t){a.$set(a.editMes,"memo",t)},expression:"editMes.memo"}}),a._v(" "),n("div",{staticClass:"form_footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return a.UpdateMemo()}}},[a._v("保存")]),a._v(" "),n("el-button",{on:{click:function(t){return a.cancel()}}},[a._v("取消")])],1)],1),a._v(" "),n("el-dialog",{attrs:{title:"详情",visible:a.dialogView,size:"",top:"10%","close-on-click-modal":!1},on:{"update:visible":function(t){a.dialogView=t}}},[a.dialogView?n("addView",{ref:"addS",staticStyle:{width:"1000px"},attrs:{editMes:a.editMes},on:{viewTicket:a.viewTicket}}):a._e()],1),a._v(" "),n("el-dialog",{attrs:{title:"卡券详情",visible:a.ticketsDet,size:""},on:{"update:visible":function(t){a.ticketsDet=t}}},[a.ticketsDet?n("div",{staticStyle:{width:"820px","min-height":"250px","max-height":"600px",overflow:"auto"}},a._l(a.ticketList,function(t){return n("el-tag",{key:t,staticClass:"tag",attrs:{type:"success"}},[a._v(a._s(t)+" ")])}),1):a._e()])],1)},staticRenderFns:[]}},429:function(t,e,a){a(1941);var n=a(98)(a(1198),a(2416),"data-v-e069321a",null);t.exports=n.exports},436:function(t,e,a){a(439);var n=a(98)(a(437),a(440),"data-v-6c47323e",null);t.exports=n.exports},437:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{tHeader:{},filterVal:{},tableData1:{type:Array},name:""},watch:{tableData1:{handler:function(t){this.otData=t},deep:!0}},data:function(){return{otData:[]}},methods:{handleDownload:function(){var a=this;n.e(220).then(function(){var t=n(448).export_json_to_excel,e=[];e=0!=a.otData.length?a.formatJson(a.filterVal,a.otData):a.formatJson(a.filterVal,a.tableData1),t(a.tHeader,e,a.name)}.bind(null,n)).catch(n.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})}}}},438:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".exportBtn[data-v-6c47323e]{background:#fff;border:1px solid #d6d4d4;font-size:14px;color:#666;border-radius:4px}",""])},439:function(t,e,a){var n=a(438);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("fdf4f478",n,!0)},440:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("el-button",{staticClass:"exportBtn",attrs:{type:"primary"},on:{click:this.handleDownload}},[this._v("导出报表")])},staticRenderFns:[]}},637:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(22),a(1);e.default={props:{viewData:Array,ope:Boolean},data:function(){return{dynamicTags:[]}},mounted:function(){this.dynamicTags=[],this.dynamicTags=this.viewData,this.dynamicTags.push()},watch:{},methods:{handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)},onSubmit:function(){this.$emit("changeCodeArr",this.dynamicTags)}},components:{}}},643:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".tag[data-v-ec579a8c]{margin:5px}.form_footer[data-v-ec579a8c]{padding-top:15px}",""])},653:function(t,e,a){var n=a(643);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("498775a2",n,!0)},659:function(t,e,a){a(653);var n=a(98)(a(637),a(665),"data-v-ec579a8c",null);t.exports=n.exports},665:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"selCommon editRegister"},[a.ope?n("div",[n("div",{staticStyle:{"min-height":"250px","max-height":"400px",overflow:"auto"}},a._l(a.dynamicTags,function(e,t){return n("el-tag",{key:t,staticClass:"tag",attrs:{closable:!0,"close-transition":!1,type:"success"},on:{close:function(t){return a.handleClose(e)}}},[a._v(a._s(e)+" ")])}),1),a._v(" "),n("div",{staticClass:"form_footer"},[n("el-button",{attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("确定修改")]),a._v(" "),n("el-button",[a._v("取消")])],1)]):n("div",[n("div",{staticStyle:{"min-height":"250px"}},a._l(a.dynamicTags,function(t,e){return n("el-tag",{key:e,staticClass:"tag",attrs:{type:"success"}},[a._v(a._s(t.ticketCode)+" ")])}),1)])])},staticRenderFns:[]}},702:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a(22),a(1);e.default={data:function(){return{activeName:"first",dynamicTags:[],inputValue:"",ticket:"",customer:"",scanIndex:"",space:[],ticketCodes:""}},mounted:function(){},watch:{},props:{digit:Number,ope:""},methods:{endnumBlur:function(t){var e=this;setTimeout(function(){Number(e.space[t].endNum)<Number(e.space[t].startNum)&&(e.space[t].endNum=e.space[t].startNum,e.$alert("区间结束号必须大于等于开始值！","提示",{confirmButtonText:"确定",callback:function(){return!1}}))},20)},addSpace:function(){this.space.push({startNum:1,endNum:1})},redSpace:function(t){this.space.splice(t,1)},handleClick:function(){},viewData:function(t){var e=this;if(t.activeName){var a=[];t.space.forEach(function(t){t.startNum?a.push(t):e.ticketCodes=t.ticketCodes}),this.space=a}},scan:function(t){var e=void 0;if("first"==this.activeName){var a=this.ticketCodes.replace(/(\r\n)|(\n)/g,",").replace(/(,*$)/g,"");a&&this.space.push({ticketCodes:a,startNum:"",endNum:""}),e={activeName:1,space:this.space}}else e={activeName:2,dynamicTags:this.dynamicTags};this.$emit("scanTick",t,e)},change:function(t){var e=t||window.event||arguments.callee.caller.arguments[0],a=this;"Enter"==e.code&&setTimeout(function(){var t=a.inputValue.split("&").pop().split("code=");a.inputValue=t[1]?t[1]:t[0],a.handleInputConfirm()},50)},handleInputConfirm:function(){var t=this.inputValue;t&&this.dynamicTags.push(t),this.inputValue=""},handleClose:function(t){this.dynamicTags.splice(this.dynamicTags.indexOf(t),1)}},components:{}}},710:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".tag[data-v-0d791292]{margin:5px}.input-new-tag[data-v-0d791292]{width:200px;float:none;margin:10px 0}.form_footer[data-v-0d791292]{padding:20px 0 10px}.el-input__inner[data-v-0d791292]{width:200px}",""])},744:function(t,e,a){var n=a(710);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("33590827",n,!0)},784:function(t,e,a){a(744);var n=a(98)(a(702),a(786),"data-v-0d791292",null);t.exports=n.exports},786:function(t,e){t.exports={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"selCommon editRegister"},[i("div",[n._m(0),n._v(" "),i("el-row",{attrs:{gutter:24}},[i("el-col",{attrs:{span:12}},[i("div",{staticClass:"grid-content bg-purple"},[n._l(n.space,function(e,a){return i("div",{key:a,staticStyle:{width:"500px",float:"none",height:"40px"}},[i("el-input",{staticStyle:{width:"100px",float:"left"},attrs:{placeholder:"请输入初始值",controls:!1},model:{value:e.startNum,callback:function(t){n.$set(e,"startNum",n._n(t))},expression:"item.startNum"}}),n._v(" "),i("div",{staticStyle:{float:"left","line-height":"36px",width:"20px","text-align":"center"}},[n._v(" - ")]),n._v(" "),i("el-input",{staticStyle:{width:"100px",float:"left"},attrs:{placeholder:"请输入结束值"},on:{blur:function(t){return n.endnumBlur(a)}},model:{value:e.endNum,callback:function(t){n.$set(e,"endNum",n._n(t))},expression:"item.endNum"}}),n._v(" "),0<n.space.length?i("el-button",{staticStyle:{"margin-left":"5px","line-height":"26px"},attrs:{size:"small",icon:"delete",type:"text"},on:{click:function(t){return n.redSpace(a)}}}):n._e()],1)}),n._v(" "),i("el-button",{attrs:{size:"small",icon:"plus",type:"primary"},on:{click:n.addSpace}},[n._v("添加区间")])],2)]),n._v(" "),n.ope?i("el-col",{attrs:{span:12}},[i("el-input",{attrs:{type:"textarea",rows:10,placeholder:"请输入完整券号,多个券号用回车或者英文逗号分隔"},model:{value:n.ticketCodes,callback:function(t){n.ticketCodes=t},expression:"ticketCodes"}})],1):n._e()],1)],1),n._v(" "),i("div",{staticClass:"form_footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return n.scan(1)}}},[n._v("保存")]),n._v(" "),i("el-button",{on:{click:function(t){return n.scan(0)}}},[n._v("取消")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"600px",float:"none",height:"40px"}},[a("span",{staticStyle:{float:"left","line-height":"36px"}},[t._v("输入编号区间：")]),t._v(" "),a("span",{staticStyle:{float:"left","line-height":"36px",color:"red"}},[t._v("（生成券号包含区间的初始、结束值，如1-10，包含hz00001-hz00010）")])])}]}}});