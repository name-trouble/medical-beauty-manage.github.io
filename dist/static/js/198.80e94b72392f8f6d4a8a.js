webpackJsonp([198],{1099:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(100),o=r.n(a),n=r(99),s=r.n(n),i=r(65),l=(r.n(i),r(64));e.default={data:function(){return{date:"",total:0,size:10,currentPage:1,form:{startDate:"",endDate:"",keyWords:"",hospitalCode:""},tableData:[],hospitalList:[]}},computed:{tHeader:function(){return["编号","客户","券种编号","券号","项目","已做项目","时间"]},filterVal:function(){return["Code","RegistDate","BranchName","PhoneNumber","IDCard","SourcWayeCode","BranchGradeName","PayAmount"]},tableData1:function(){return this.tableData},name:function(){return"消费券报单明细"}},mounted:function(){this.GetDropDownPermission()},methods:{dateSelect:function(t){t.length?(t=t.formatDates(),this.form.startDate=t.substring(0,10),this.form.endDate=t.substring(13)):(this.form.startDate="",this.form.endDate=""),this.onSubmit()},GetTicketDetail:function(a){var n=this;return s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.i(l._416)(a);case 3:0<(e=t.sent).length&&(n.total=e[0].RecordCount),n.tableData=e,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(res);case 11:case"end":return t.stop()}},t,n,[[0,8]])}))()},GetDropDownPermission:function(){var a=this;return s()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.i(l.d)({typeId:1});case 2:e=t.sent,a.hospitalList=e.data;case 4:case"end":return t.stop()}},t,a)}))()},onSubmit:function(){this.currentPage=1,this.search()},search:function(){this.GetTicketDetail({keyWords:this.form.keyWords.removeSP(),hospitalCode:this.form.hospitalCode,pageIndex:this.currentPage,pageSize:this.size,startDate:this.form.startDate,enddate:this.form.endDate})},handleSizeChange:function(t){console.log("每页 "+t+" 条"),this.size=t,this.search()},handleCurrentChange:function(t){console.log("当前页: "+t),this.currentPage=t,this.search()}},components:{}}},1355:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,"",""])},1780:function(t,e,a){var n=a(1355);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(216)("066d1e6b",n,!0)},2252:function(t,e){t.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selCommon"},[a("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:e.form}},[a("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"日期：","label-width":"80px"}},[a("el-date-picker",{staticClass:"form_item_ipt220",attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:e.dateSelect},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"关键字：","label-width":"80px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"券种编号/券名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}},model:{value:e.form.keyWords,callback:function(t){e.$set(e.form,"keyWords",t)},expression:"form.keyWords"}})],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10",attrs:{label:""}},[a("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("el-table",{staticClass:"min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:e.tableData,border:"","max-height":"500"}},[a("el-table-column",{attrs:{prop:"BranchName",label:"消费商","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"TickInfoCode",label:"券种编号","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"TicCode",label:"券号","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ProjectName",label:"项目","min-width":"200","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"TicCode",label:"医院","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"overflow_ell",attrs:{effect:"dark",enterable:!1,content:t.row.HospitalCode,placement:"top-start"}},[a("div",{staticClass:"overflow_ell"},[e._v("\n                        "+e._s(t.row.HospitalName)+"\n                    ")])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"UsedProjCodesName",label:"已做项目","min-width":"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateOn",label:"日期","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.CreateOn.substring(0,10))+"\n            ")]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},365:function(t,e,a){a(1780);var n=a(98)(a(1099),a(2252),"data-v-4896054e",null);t.exports=n.exports}});