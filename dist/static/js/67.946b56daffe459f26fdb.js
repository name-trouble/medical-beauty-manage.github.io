webpackJsonp([67],{1282:function(e,t,n){(e.exports=n(215)(!1)).push([e.i,"",""])},1387:function(e,t,n){(e.exports=n(215)(!1)).push([e.i,".avatar-uploader .el-upload[data-v-545bbd3a]{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload[data-v-545bbd3a]:hover{border-color:#20a0ff}.avatar-uploader-icon[data-v-545bbd3a]{font-size:28px;color:#8c939d;width:178px;height:178px;line-height:178px;text-align:center;background-color:#fbfdff;border:1px dashed #c0ccda}.avatar[data-v-545bbd3a]{width:178px;height:178px;display:block}.dialog-footer[data-v-545bbd3a]{text-align:center}.my-autocomplete li[data-v-545bbd3a]{line-height:normal;padding:7px}.my-autocomplete li .name[data-v-545bbd3a]{text-overflow:ellipsis;overflow:hidden}.my-autocomplete li .addr[data-v-545bbd3a]{font-size:12px;color:#b4b4b4}.my-autocomplete li .highlighted .addr[data-v-545bbd3a]{color:#ddd}",""])},1707:function(e,t,n){var i=n(1282);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(216)("0b2d88ac",i,!0)},1812:function(e,t,n){var i=n(1387);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(216)("561dfcf1",i,!0)},2030:function(e,t,n){n(1812);var i=n(98)(n(918),n(2285),"data-v-545bbd3a",null);e.exports=i.exports},2179:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"VideoManage selCommon"},[i("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:n.formInline,"label-width":"80px"}},[i("el-form-item",{staticStyle:{"margin-bottom":"10px","font-size":"12px !important"},attrs:{label:"发布时间："}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:n.dateSelect},model:{value:n.date,callback:function(e){n.date=e},expression:"date"}})],1),n._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"发布人："}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:n.formInline.userName,callback:function(e){n.$set(n.formInline,"userName",e)},expression:"formInline.userName"}})],1),n._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"视频类型："}},[i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:n.formInline.typeId,callback:function(e){n.$set(n.formInline,"typeId",e)},expression:"formInline.typeId"}},[i("el-option",{attrs:{label:"全部",value:""}}),n._v(" "),i("el-option",{attrs:{label:"品牌宣传",value:"1"}}),n._v(" "),i("el-option",{attrs:{label:"项目导购",value:"2"}})],1)],1),n._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:" "}},[i("el-button",{staticClass:"searchBtn",attrs:{type:"primary",icon:"search"},on:{click:n.onSubmit}},[n._v("查询")]),n._v(" "),i("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:n.publish}},[n._v("发布新视频")])],1)],1),n._v(" "),i("el-table",{staticClass:"smt min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:n.tableData,border:"","max-height":"500"}},[i("el-table-column",{attrs:{prop:"picture",width:"80",label:"封面"},scopedSlots:n._u([{key:"default",fn:function(e){return[i("img",{attrs:{src:e.row.picture,alt:"",width:"50px"}})]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"title",label:"主题","min-width":"200","show-overflow-tooltip":""},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return n.play(t.$index,n.tableData)}}},[n._v(n._s(t.row.title))])]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"userRealName",label:"发布人","min-width":"100"}}),n._v(" "),i("el-table-column",{attrs:{prop:"tab",label:"标签","min-width":"150","show-overflow-tooltip":""}}),n._v(" "),i("el-table-column",{attrs:{prop:"typeId",label:"视频分类","min-width":"100"},scopedSlots:n._u([{key:"default",fn:function(e){return[1==e.row.typeId?i("span",[n._v("品牌宣传")]):n._e(),n._v(" "),2==e.row.typeId?i("span",[n._v("项目导购")]):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"videoSize",label:"视频大小","min-width":"100"}}),n._v(" "),i("el-table-column",{attrs:{prop:"createDate",label:"发布时间","min-width":"100"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.createDate?i("span",[n._v("\n                     "+n._s(e.row.createDate.substring(0,10))+"\n                ")]):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"views",label:"浏览人次","min-width":"100"}}),n._v(" "),i("el-table-column",{attrs:{prop:"commentCount",label:"评论量","min-width":"80"},scopedSlots:n._u([{key:"default",fn:function(t){return[0<t.row.commentCount?i("el-button",{attrs:{type:"text"},on:{click:function(e){return n.comment(t.row)}}},[n._v(n._s(t.row.commentCount))]):i("span",[n._v("0")])]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"views",label:"审核状态","min-width":"100",align:"center"},scopedSlots:n._u([{key:"default",fn:function(e){return[1==e.row.type||null==e.row.type?i("el-tag",{attrs:{type:"gray"}},[n._v("未审核")]):n._e(),n._v(" "),3==e.row.type?i("el-tag",{attrs:{type:"success"}},[n._v("通过")]):n._e(),n._v(" "),2==e.row.type?i("el-tag",{attrs:{type:"danger"}},[n._v("拒绝")]):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"status",label:"操作","min-width":"300"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.edit(t.row)}}},[n._v("编辑")]),n._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.deleteRow(t.$index,n.tableData)}}},[n._v("删除")]),n._v(" "),2==t.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.setTop(t.$index,n.tableData,1)}}},[n._v("取消置顶")]):n._e(),n._v(" "),1==t.row.status?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.setTop(t.$index,n.tableData,2)}}},[n._v("置顶")]):n._e(),n._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.AuditVideoType(t.row)}}},[n._v("修改类型")]),n._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return n.audit(t.row,3)}}},[n._v("审核")]),n._v(" "),i("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return n.audit(t.row,2)}}},[n._v("拒绝")])]}}])})],1),n._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":n.currentPage,"page-sizes":[10,20,30,40],"page-size":n.size,layout:"total, sizes, prev, pager, next, jumper",total:n.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1),n._v(" "),i("el-dialog",{attrs:{title:"视频",visible:n.dialogVideo,size:"",top:"10%"},on:{"update:visible":function(e){n.dialogVideo=e}}},[n.dialogVideo?i("div",[i("newVideo",{staticStyle:{width:"500px"},attrs:{videoMes:n.videoMes},on:{close:n.close}})],1):n._e()]),n._v(" "),i("el-dialog",{attrs:{title:"播放",visible:n.playDialog,size:""},on:{"update:visible":function(e){n.playDialog=e}}},[i("video",{attrs:{src:n.src,width:"500px",controls:"controls",autoplay:"autoplay"}},[n._v("\n            您的浏览器不支持 video 标签。\n        ")])]),n._v(" "),i("el-dialog",{attrs:{title:"评论管理",visible:n.dialogComment,size:""},on:{"update:visible":function(e){n.dialogComment=e}}},[n.dialogComment?i("comment",{staticStyle:{width:"1000px"},attrs:{themeType:4,propsId:n.propsId},on:{search:n.search}}):n._e()],1)],1)},staticRenderFns:[]}},2285:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"newVideo selCommon"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:n.ruleForm,rules:n.rules,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"标题：",prop:"title"}},[i("el-input",{model:{value:n.ruleForm.title,callback:function(e){n.$set(n.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),n._v(" "),i("el-form-item",{attrs:{label:"标签："}},[n._l(n.dynamicTags,function(t){return i("el-tag",{key:t,attrs:{type:"primary",closable:!0,"close-transition":!1},on:{close:function(e){return n.handleClose(t)}}},[n._v(n._s(t))])}),n._v(" "),n.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:n.handleInputConfirm},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&n._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.handleInputConfirm(e)}},model:{value:n.inputValue,callback:function(e){n.inputValue=e},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:n.showInput}},[n._v("+ 添加新标签")])],2),n._v(" "),i("el-form-item",{attrs:{label:"视频分类：",prop:"module"}},[i("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:n.ruleForm.typeId,callback:function(e){n.$set(n.ruleForm,"typeId",e)},expression:"ruleForm.typeId"}},[n._v("品牌宣传")]),n._v(" "),i("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:n.ruleForm.typeId,callback:function(e){n.$set(n.ruleForm,"typeId",e)},expression:"ruleForm.typeId"}},[n._v("项目导购")])],1),n._v(" "),i("el-form-item",{attrs:{label:"商品："}},[n._l(n.goodsTags,function(t){return i("el-tag",{key:t,attrs:{closable:!0,"close-transition":!1},on:{close:function(e){return n.handleClose(t)}}},[n._v(n._s(t))])}),n._v(" "),i("el-select",{staticStyle:{width:"400px"},attrs:{filterable:"",remote:"",placeholder:"请输入关键词","remote-method":n.remoteMethod,loading:n.loading1},on:{change:n.selProject},model:{value:n.ruleForm.goods,callback:function(e){n.$set(n.ruleForm,"goods",e)},expression:"ruleForm.goods"}},n._l(n.options,function(e,t){return i("el-option",{key:t,attrs:{label:e.Name,value:e}})}),1)],2),n._v(" "),i("el-form-item",{attrs:{label:"视频：",prop:"videoUrl"}},[n.loading?i("el-progress",{attrs:{type:"circle",percentage:n.percentage}}):n._e(),n._v(" "),n.videoUrl?i("div",{staticStyle:{color:"#00a0e9"},attrs:{"element-loading-text":"上传中"}},[n._v(n._s(n.videoName)+"\n                ")]):n._e(),n._v(" "),i("el-upload",{attrs:{action:n.action,accept:"video/*","show-file-list":!1,"on-success":n.handleVideoSuccess,"on-progress":n.progress,"before-upload":n.beforeVideoUpload}},[i("el-button",{attrs:{type:"primary",disabled:n.disable}},[n._v("上传\n                    "),i("i",{staticClass:"el-icon-upload el-icon--right"})])],1),n._v(" "),n.videourl?i("video",{ref:"video",attrs:{src:n.videourl,controls:"controls",id:"aa",width:"300px"}}):n._e()],1),n._v(" "),i("el-form-item",{attrs:{label:"视频封面：",prop:"pic"}},[i("span",[n._v("(请上传800*800已上的图片，小于1M)")]),n._v(" "),i("el-upload",{staticClass:"avatar-uploader",attrs:{action:n.action,accept:n.acceptImage,"show-file-list":!1,"on-success":n.handleAvatarSuccess,"before-upload":n.beforeAvatarUpload}},[n.imageUrl?i("img",{staticClass:"avatar",attrs:{src:n.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),n._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:n.saveLoading},on:{click:function(e){return n.onSubmit("ruleForm")}}},[n._v("确定")]),n._v(" "),i("el-button",{on:{click:function(e){return n.resetForm("ruleForm")}}},[n._v("取消")])],1)],1)},staticRenderFns:[]}},234:function(e,t,n){n(1707);var i=n(98)(n(915),n(2179),"data-v-2235e574",null);e.exports=i.exports},441:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return l});var i="image/gif,image/jpeg,image/jpg,image/png,image/svg",a="/Image/UploadImg",o="9",r=[{name:"中国",value:"01"},{name:"中国台湾",value:"02"},{name:"韩国",value:"03"},{name:"美国",value:"04"}],l=[{name:"网页",linkType:"0",linkUrl:""},{name:"热门",linkType:"1",linkUrl:"0"},{name:"直播",linkType:"1",linkUrl:"1"},{name:"视频",linkType:"1",linkUrl:"2"},{name:"问答",linkType:"1",linkUrl:"4"},{name:"精选案例",linkType:"2",linkUrl:"0"},{name:"最新案例",linkType:"2",linkUrl:"1"},{name:"附近案例",linkType:"2",linkUrl:"2"},{name:"医院详情",linkType:"3",linkUrl:""},{name:"医生详情",linkType:"4",linkUrl:""},{name:"项目详情",linkType:"5",linkUrl:""},{name:"商品详情",linkType:"6",linkUrl:""},{name:"案例详情",linkType:"7",linkUrl:""},{name:"卡券详情",linkType:"8",linkUrl:""},{name:"活动详情",linkType:"9",linkUrl:""},{name:"问答详情",linkType:"10",linkUrl:""},{name:"视频详情",linkType:"11",linkUrl:""},{name:"直播详情",linkType:"12",linkUrl:""},{name:"医美百科",linkType:"13",linkUrl:""},{name:"金牌设计",linkType:"14",linkUrl:""},{name:"抽奖中心",linkType:"15",linkUrl:""},{name:"红包专区",linkType:"16",linkUrl:""},{name:"html扩展页面",linkType:"17",linkUrl:""},{name:"医院列表",linkType:"18",linkUrl:""},{name:"项目列表",linkType:"19",linkUrl:""},{name:"卡券列表",linkType:"20",linkUrl:""},{name:"医生列表",linkType:"21",linkUrl:""},{name:"活动列表",linkType:"22",linkUrl:""},{name:"商家列表",linkType:"23",linkUrl:""},{name:"商家商品列表",linkType:"24",linkUrl:""},{name:"商家详情",linkType:"25",linkUrl:""},{name:"商家商品详情",linkType:"26",linkUrl:""},{name:"我的-订单",linkType:"27",linkUrl:"0"},{name:"我的-邀请好友",linkType:"27",linkUrl:"1"},{name:"我的-我的消息",linkType:"27",linkUrl:"2"},{name:"我的-我的收藏",linkType:"27",linkUrl:"3"},{name:"我的-身份认证",linkType:"27",linkUrl:"4"},{name:"我的-我的财富",linkType:"27",linkUrl:"5"},{name:"我的-关于我们",linkType:"27",linkUrl:"6"},{name:"我的-联系我们",linkType:"27",linkUrl:"7"},{name:"我的-信息咨询",linkType:"27",linkUrl:"8"},{name:"医院中心",linkType:"28",linkUrl:"0"},{name:"销售公司",linkType:"28",linkUrl:"1"},{name:"消费商",linkType:"28",linkUrl:"2"},{name:"商家中心",linkType:"28",linkUrl:"3"}]},443:function(e,t,n){"use strict";t.__esModule=!0;var i,a=n(444),o=(i=a)&&i.__esModule?i:{default:i};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},444:function(e,t,n){e.exports={default:n(445),__esModule:!0}},445:function(e,t,n){n(446);var i=n(2).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},446:function(e,t,n){var i=n(9);i(i.S+i.F*!n(10),"Object",{defineProperty:n(11).f})},576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(64);t.default={data:function(){return{date:"",total:10,size:10,currentPage:1,tableData:[],multipleSelection:[],formInline:{startDate:"",endDate:"",isDelete:""}}},props:{propsId:"",themeType:""},mounted:function(){this.GetComment()},methods:{delComment:function(e){var t=this;this.$confirm("删除后选中的评论将无法显示, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.i(i._228)({ids:e,themeId:t.propsId,Type:t.themeType}).then(function(e){e.status?(t.$message({type:"success",message:"删除成功！"}),t.GetComment(),t.$emit("search")):t.$message({type:"error",message:"删除失败！"})})})},onSubmit:function(){this.currentPage=1,this.GetComment()},GetComment:function(){var t=this;n.i(i._229)({ThemeId:this.propsId,StartDate:this.formInline.startDate,EndDate:this.formInline.endDate,IsDelete:this.formInline.isDelete,Type:this.themeType,PageSize:this.size,PageIndex:this.currentPage}).then(function(e){t.total=e.count,t.tableData=e.data,console.log(e)})},handleSizeChange:function(e){this.size=e,this.GetComment()},handleCurrentChange:function(e){this.currentPage=e,this.GetComment()},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},dateSelect:function(e){0!=e.length?(e=e.formatDates(),this.formInline.startDate=e.substring(0,10),this.formInline.endDate=e.substring(13)):(this.formInline.startDate="",this.formInline.endDate="")},batchDelete:function(){var t=[];this.multipleSelection.forEach(function(e){t.push(e.id)}),this.delComment(t.join(","))}},components:{}}},585:function(e,t,n){(e.exports=n(215)(!1)).push([e.i,".block[data-v-0c406775]{margin-bottom:20px}",""])},599:function(e,t,n){var i=n(585);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(216)("403df9ae",i,!0)},613:function(e,t,n){n(599);var i=n(98)(n(576),n(618),"data-v-0c406775",null);e.exports=i.exports},618:function(e,t){e.exports={render:function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("div",{staticClass:"comment"},[i("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:n.formInline,"label-width":"80px"}},[i("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"发布时间："}},[i("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:n.dateSelect},model:{value:n.date,callback:function(e){n.date=e},expression:"date"}})],1),n._v(" "),i("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"状态："}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:n.formInline.isDelete,callback:function(e){n.$set(n.formInline,"isDelete",e)},expression:"formInline.isDelete"}},[i("el-option",{attrs:{label:"全部",value:""}}),n._v(" "),i("el-option",{attrs:{label:"正常",value:"0"}}),n._v(" "),i("el-option",{attrs:{label:"删除",value:"1"}})],1)],1),n._v(" "),i("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:""}},[i("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:n.onSubmit}},[n._v("查询")]),n._v(" "),i("el-button",{staticClass:"searchBtn",attrs:{type:"primary",disabled:0==n.multipleSelection.length},on:{click:n.batchDelete}},[n._v("批量删除")])],1)],1),n._v(" "),i("el-table",{staticClass:"smt min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:n.tableData,border:"","max-height":"460"},on:{"selection-change":n.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n._v(" "),i("el-table-column",{attrs:{type:"index",width:"40",label:"序号"}}),n._v(" "),i("el-table-column",{attrs:{prop:"createDate",label:"回复时间","min-width":"100"}}),n._v(" "),i("el-table-column",{attrs:{prop:"userRealName",label:"回复人","min-width":"80"}}),n._v(" "),i("el-table-column",{attrs:{prop:"parentUserId",label:"被回复人","min-width":"80"},scopedSlots:n._u([{key:"default",fn:function(e){return[e.row.parentUserId?i("span",[n._v(n._s(e.row.parentRealName))]):i("span",[n._v(n._s(e.row.themeRealName))])]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"content",label:"回复内容","min-width":"120","show-overflow-tooltip":""}}),n._v(" "),i("el-table-column",{attrs:{prop:"RegistDate",label:"状态","min-width":"80"},scopedSlots:n._u([{key:"default",fn:function(e){return[0==e.row.isDelete||null==e.row.isDelete?i("el-tag",{attrs:{type:"success"}},[n._v("正常")]):i("el-tag",{attrs:{type:"danger"}},[n._v("已删除")])]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"RegistDate",label:"操作","min-width":"80"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",disabled:1==t.row.isDelete,size:"small"},on:{click:function(e){return n.delComment(t.row.id)}}},[n._v("删除")])]}}])})],1),n._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":n.currentPage,"page-sizes":[10,20,30,40],"page-size":n.size,layout:"total, sizes, prev, pager, next, jumper",total:n.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},915:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(37),i=a.n(n),o=a(100),r=a.n(o),l=a(99),s=a.n(l),c=a(101),u=a(65),d=(a.n(u),a(22)),p=a(64),m=a(2030),f=a.n(m),h=a(613),v=a.n(h);t.default={data:function(){return{src:"",date:"",playDialog:!1,dialogComment:!1,dialogVideo:!1,total:0,size:10,videoMes:{},currentPage:1,formInline:{date1:"",date2:"",userName:"",typeId:"",viewsStart:"",viewsEnd:"",durationStart:"",durationEnd:"",shareStart:"",shareEnd:"",salesVolumeStart:"",salesVolumeEnd:"",percentageStart:"",percentageEnd:""},tableData:[],gridData:[],propsId:""}},computed:{},mounted:function(){this.getVideo({pageIndex:1,pageSize:10})},methods:{comment:function(e){this.propsId=e.id,this.dialogComment=!0},noteView:function(){this.dialogComment=!0},AuditVideoType:function(e){var t=this,n=1==e.typeId?" 项目导购":"品牌宣传",i=1==e.typeId?2:1;this.$confirm("此操作将修改视频类型为 "+n+" , 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.i(p._236)({id:e.id,TypeId:i}).then(function(e){1==e.status?(t.$message({message:"操作成功",type:"success"}),t.search()):t.$message.error("操作失败")})})},SetVideo:function(t){var n=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(p._237)(t);case 2:1==e.sent.status?(n.$message({message:"操作成功",type:"success"}),n.search()):n.$message.error("操作失败");case 4:case"end":return e.stop()}},e,n)}))()},deleteVideo:function(t){var n=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(p._238)(t);case 2:1==e.sent.status?(n.$message({message:"删除成功",type:"success"}),n.search()):n.$message.error("删除失败");case 4:case"end":return e.stop()}},e,n)}))()},getVideo:function(n){var i=this;return s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(p._239)(n);case 2:t=e.sent,i.tableData=i.dealData(t.data),i.total=t.count;case 5:case"end":return e.stop()}},e,i)}))()},dateSelect:function(e){0!=e.length?(e=e.formatDates(),this.formInline.date1=e.substring(0,10),this.formInline.date2=e.substring(13)):(this.formInline.date1="",this.formInline.date2="")},onSubmit:function(){this.currentPage=1,this.search()},search:function(){this.getVideo({pageIndex:this.currentPage,pageSize:this.size,where:this.getConditions()})},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.size=e,this.search()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.search()},publish:function(){this.dialogVideo=!0},play:function(e,t){this.playDialog=!0,this.src=t[e].videoUrl},deleteRow:function(e,t){var n=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.deleteVideo({id:t[e].id})}).catch(function(){})},setTop:function(e,t,n){new Date;this.SetVideo({modifiedUserName:a.i(d.b)("userName"),modifiedUserId:a.i(d.b)("userId"),id:t[e].id,status:n})},close:function(){this.dialogVideo=!1,this.search()},dealData:function(e){return e.forEach(function(e){e.videoUrl=0<=e.videoUrl.indexOf("http")?e.videoUrl:c.b+e.videoUrl,e.picture=c.b+e.picture}),e},getConditions:function(){var e=this.formInline.date1,t=this.formInline.date2,n="";return e&&(n+="CreateDate>='"+e+"'"),t&&(n+=" and CreateDate<='"+t+"'"),this.formInline.userName&&(n+=" and createBy='"+this.formInline.userName+"'"),this.formInline.typeId&&(n+=" and typeId='"+this.formInline.typeId+"'"),n},audit:function(e,t){var n=this,i=3==t?"通过后该视频将发布到app，是否继续？":"拒绝后该视频将无法在app显示，是否继续？";this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.AuditVideo({id:e.id,type:t})})},AuditVideo:function(t){var n=this;return s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(p._240)(t);case 2:1==e.sent.status?(n.$message({message:"操作成功",type:"success"}),n.search()):n.$message.error("操作失败");case 4:case"end":return e.stop()}},e,n)}))()},edit:function(e){this.videoMes=JSON.parse(i()(e)),this.dialogVideo=!0}},components:{newVideo:f.a,comment:v.a}}},918:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=a(100),o=a.n(i),r=a(103),c=a.n(r),l=a(99),u=a.n(l),s=a(443),d=a.n(s),p=a(101),m=a(441),f=a(65),h=(a.n(f),a(22)),v=a(64);t.default={data:function(){var i=this;return d()({goodsTags:[],saveLoading:!1,projectList:[],disable:!1,loading:!1,loading1:!1,acceptImage:"",action:"",imageUrl:"",options:[],ruleForm:{title:"",goods:"",imgUrl:"",typeId:"1",status:1},rules:{title:[{required:!0,message:"请填写标题",trigger:"blur"}],pic:[{validator:function(e,t,n){if(0==i.imageUrl.length)return n(new Error("请上传图片"));n()},trigger:"change"}],videoUrl:[{validator:function(e,t,n){if(0==i.videoUrl.length)return n(new Error("请上传视频"));n()}}]},dynamicTags:[],goodsList:[],inputVisible:!1,inputValue:"",videoUrl:"",videoName:"",videoSize:"",percentage:0,videoLength:"",videourl:""},"projectList",[])},watch:{"ruleForm.goods":{handler:function(e){10<e.length&&this.ruleForm.goods.splice(0,1)},deep:!0}},props:{videoMes:{}},mounted:function(){this.action=p.b+"/api/Image/UploadImg?op=video",this.acceptImage=m.b,this.videoMes.id&&this.copyWorth(this.videoMes)},methods:(n={copyWorth:function(e){for(var t in e)null==e[t]&&(e[t]="");this.ruleForm.title=e.title,this.ruleForm.typeId=e.typeId,this.ruleForm.status=e.status,this.ruleForm.imgUrl=e.picture,this.imageUrl=e.picture?p.b+e.picture:"",this.videoUrl=e.videoUrl,this.videourl=e.videoUrl,this.dynamicTags=e.tab.split(",")},selProject:function(){this.ruleForm.goods.Name&&(this.goodsTags.push(this.ruleForm.goods.Name),this.goodsList.push(this.ruleForm.goods),this.ruleForm.goods="")},handleClose:function(e){this.goodsTags.splice(this.goodsTags.indexOf(e),1),this.goodsList.splice(this.goodsTags.indexOf(e),1)},getGoodsByKeywords:function(t){var s=this;return u()(o.a.mark(function e(){var r,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.i(v._30)(t);case 3:r=e.sent,l=s,setTimeout(function(){if(l.loading1=!1,r instanceof Array&&0<r.length){var e=!0,t=!1,n=void 0;try{for(var i,a=c()(r);!(e=(i=a.next()).done);e=!0){var o=i.value;s.options.push({value:"("+o.GoodsEntity.Code+")"+o.GoodsEntity.GoodsAlias,code:o.GoodsEntity.Code,Name:o.GoodsEntity.Name,GoodsAlias:o.GoodsEntity.GoodsAlias,ServiceMan:o.GoodsEntity.ServiceMan,ServiceManName:o.GoodsEntity.ServiceManName,price:o.GoodsEntity.PriceSale,FarePercent:o.GoodsEntity.FarePercent,SupplierCode:o.GoodsEntity.SupplierCode,SupplierName:o.GoodsEntity.SupplierName,GUList:o.GUList})}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}},200),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,s,[[0,8]])}))()},createVideo:function(t){var n=this;return u()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.saveLoading=!0,e.next=4,a.i(v._241)(t);case 4:1==e.sent.status?(n.$message({message:"创建成功",type:"success"}),n.$emit("close",!1)):n.$message.error("创建失败"),n.saveLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,n,[[0,9]])}))()},onSubmit:function(e){var t=this,n=[];this.goodsList.forEach(function(e){n.push({id:e.code})}),this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.createVideo({title:t.ruleForm.title,videoUrl:t.videoUrl,picture:t.ruleForm.imgUrl,createDate:(new Date).formatDate("yyyy-MM-dd"),tab:t.dynamicTags.join(","),goodsList:n,userName:a.i(h.b)("userName"),userId:a.i(h.b)("userId"),videoSize:t.videoSize+"M",videoLength:t.videoLength,status:1,typeId:t.ruleForm.typeId})})},resetForm:function(e){this.$refs[e].resetFields(),this.$emit("close",!1)},handleAvatarSuccess:function(e,t){""!=this.ruleForm.imgUrl&&this.DelImg(this.ruleForm.imgUrl),this.imageUrl=p.b+t.response,this.ruleForm.imgUrl=t.response},handleVideoSuccess:function(e,t){this.loading=!1,this.disable=!1,""!=this.videoUrl&&this.DelImg(this.videoUrl),this.videoUrl=t.response,this.videourl=p.b+t.response,this.videoName=t.name,this.videoSize=this.toDecimal(t.size/1024/1024)},DelImg:function(n){var i=this;return u()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(v._73)({filepath:n});case 2:(t=e.sent).status||i.$message({message:"原图片删除失败！"+t.errorMessage,type:"warning"});case 4:case"end":return e.stop()}},e,i)}))()},beforeAvatarUpload:function(e){var t=e.size/1024/1024<1;return t||this.$message.error("上传图片大小不能超过 1MB!"),t},beforeVideoUpload:function(){this.loading=!0,this.disable=!0}},d()(n,"handleClose",function(e){this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)}),d()(n,"progress",function(e,t){console.log(t),this.percentage=Math.floor(t.percentage),this.videoName=t.name,this.videoSize=this.toDecimal(t.size/1024/1024)}),d()(n,"showInput",function(){var t=this;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})}),d()(n,"handleInputConfirm",function(){var e=this.inputValue;e&&this.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}),d()(n,"toDecimal",function(e){var t=parseFloat(e);if(!isNaN(t))return t=Math.round(100*e)/100}),d()(n,"remoteMethod",function(e){""!==e?(this.loading1=!0,this.getGoodsByKeywords({keywords:e.removeSP(),IsMall:0})):this.options=[]}),d()(n,"getTimeLength",function(e){return e<60?Math.floor(e)+"秒":60<(e<3600)?parseInt(e/60)+"分钟"+Math.floor(e%60)+"秒":void 0}),n),components:{}}}});