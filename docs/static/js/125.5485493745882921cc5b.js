webpackJsonp([125],{1094:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(100),s=n.n(a),l=n(99),o=n.n(l),i=n(64);e.default={props:{mes:{type:Object},flg:""},watch:{mes:{handler:function(){this.form=this.mes,this.onSubmit()},deep:!0}},mounted:function(){this.form=this.mes,this.onSubmit()},data:function(){return{total:0,member:"",apply:"",status:"",form:{},tableData:[]}},methods:{getMes:function(a){var l=this;return o()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.i(i._418)(a);case 3:e=t.sent,l.total=e.length,l.tableData=e,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,l,[[0,8]])}))()},onSubmit:function(){var t="";t=0!=this.flg.length?this.flg:this.apply,this.getMes({TickInfoCode:this.form.TickInfoCode,TicketsType:this.form.TicketsType,ApplyUserName:t,MemberName:this.member,Status:this.status})}},components:{}}},1098:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(100),s=n.n(a),l=n(99),o=n.n(l),i=n(101),r=n(64),m=n(65),p=(n.n(m),n(2077)),c=n.n(p);e.default={data:function(){return{url:"",mes:{},flg:"",orderList:[1,0,5,3,4],dialogTableVisible:!1,total:0,size:10,currentPage:1,formInline:{name:"",apply:"",type:"",keywords:""},tableData:[]}},computed:{},mounted:function(){this.url=i.b},methods:{getName:function(t){switch(t){case 1:return"折扣券";case 2:return"代金券";case 3:return"门票"}},getData:function(t){return""!=t.PrdOfVal&&t.PrdOfVal+""!="null"?"售后"+t.PrdOfVal+"天":t.StartDate&&t.EndDate?"开始："+t.StartDate.substr(0,10)+"结束："+t.EndDate.substr(0,10):""},GetTicketsReport:function(a){var l=this;return o()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.i(r._417)(a);case 3:e=t.sent,l.tableData=e,l.total=e.length,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,l,[[0,8]])}))()},onSubmit:function(){this.currentPage=1,this.flg=this.formInline.apply,this.search()},search:function(){this.GetTicketsReport({TickName:encodeURIComponent(this.formInline.name),ApplyUserName:encodeURIComponent(this.formInline.apply),TicketsType:encodeURIComponent(this.formInline.type)})},show:function(t,e){this.dialogTableVisible=!0,this.mes=e[t]}},components:{useStatus:c.a}}},1328:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".parent[data-v-36f628b8]{width:100%;-ms-flex-flow:wrap;flex-flow:wrap}.child[data-v-36f628b8]{width:100%;height:20px;border:1px solid #333;margin-bottom:10px}",""])},1523:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".mes_top[data-v-e4f3250e]{line-height:36px;border-bottom:1px solid #eef1f6}.mes_top_sp[data-v-e4f3250e]{padding:0 10px 0 0}",""])},1753:function(t,e,a){var l=a(1328);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(216)("e1300698",l,!0)},1948:function(t,e,a){var l=a(1523);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a(216)("69dfcfb3",l,!0)},2077:function(t,e,a){a(1948);var l=a(98)(a(1094),a(2423),"data-v-e4f3250e",null);t.exports=l.exports},2225:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,l=a._self._c||t;return l("div",{staticClass:"couponConsume selCommon"},[l("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:a.formInline,"label-width":"80px"}},[l("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"券名称："}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.onSubmit(t)}},model:{value:a.formInline.name,callback:function(t){a.$set(a.formInline,"name",t)},expression:"formInline.name"}})],1),a._v(" "),l("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"申请人："}},[l("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.onSubmit(t)}},model:{value:a.formInline.apply,callback:function(t){a.$set(a.formInline,"apply",t)},expression:"formInline.apply"}})],1),a._v(" "),l("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"券类型："}},[l("el-select",{staticClass:"form_ipt_200",on:{change:a.onSubmit},model:{value:a.formInline.type,callback:function(t){a.$set(a.formInline,"type",t)},expression:"formInline.type"}},[l("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),l("el-option",{attrs:{label:"折扣券",value:"1"}}),a._v(" "),l("el-option",{attrs:{label:"代金券",value:"2"}}),a._v(" "),l("el-option",{attrs:{label:"门票",value:"3"}})],1)],1),a._v(" "),l("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:" "}},[l("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("查询")])],1)],1),a._v(" "),l("el-table",{staticClass:"min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"560"}},[l("el-table-column",{attrs:{prop:"ApplyNumTotal",label:"券正面","min-width":"80"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("img",{attrs:{src:a.url+t.row.FrontPicUrl,alt:"",height:"50",width:"82"}})]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"TickName",label:"券名称","min-width":"100"}}),a._v(" "),l("el-table-column",{attrs:{prop:"TicketsType",label:"券类型","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){return[1==t.row.TicketsType?l("span",[a._v("折扣券")]):a._e(),a._v(" "),2==t.row.TicketsType?l("span",[a._v("代金券")]):a._e(),a._v(" "),3==t.row.TicketsType?l("span",[a._v("门票")]):a._e()]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"TickInfoCode",label:"券种编号","min-width":"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"IDCard",label:"有效期","min-width":"150"},scopedSlots:a._u([{key:"default",fn:function(t){return[""!=t.row.PrdOfVal&&null!=t.row.PrdOfVal?l("span",[a._v(" "+a._s("售后"+t.row.PrdOfVal+"天"))]):l("span",[a._v("\n                    开始时间： "),t.row.StateDate?l("span",[a._v("\n                       "+a._s(t.row.StateDate.substring(0,10))+"\n                    ")]):a._e(),l("br"),a._v("\n                    结束时间："),t.row.EndDate?l("span",[a._v("\n                        "+a._s(t.row.EndDate.substring(0,10))+"\n                    ")]):a._e()])]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"Price",label:"售价","min-width":"80"},scopedSlots:a._u([{key:"default",fn:function(t){return[l("span",{staticStyle:{float:"right"}},[a._v("\n                     "+a._s(t.row.Price.toQFW())+"\n                ")])]}}])}),a._v(" "),l("el-table-column",{attrs:{prop:"ApplyNumTotal",label:"申请数量","min-width":"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"InputNumTotal",label:"录入数","min-width":"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"ObtainNumTotal",label:"已领券","min-width":"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"UsedNumTotal",label:"已使用","min-width":"80"}}),a._v(" "),l("el-table-column",{attrs:{prop:"",label:"操作","min-width":"80"},scopedSlots:a._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text"},on:{click:function(t){return a.show(e.$index,a.tableData)}}},[a._v("查看")])]}}])})],1),a._v("\n    共："+a._s(a.total)+"条数据\n    "),l("el-dialog",{attrs:{title:"详情",mes:a.mes,visible:a.dialogTableVisible,size:""},on:{"update:visible":function(t){a.dialogTableVisible=t}}},[l("useStatus",{staticStyle:{width:"800px"},attrs:{mes:a.mes,flg:a.flg}})],1)],1)},staticRenderFns:[]}},2423:function(t,e){t.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"useStatus selCommon"},[a("div",{staticClass:"mes_top"},[a("span",{staticClass:"mes_top_sp"},[e._v("券名称："+e._s(e.form.TickName))]),e._v(" "),a("span",{staticClass:"mes_top_sp"},[e._v("券种编号："+e._s(e.form.TickInfoCode))])]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",staticStyle:{"padding-top":"10px"},attrs:{inline:!0,"label-width":"60px"}},[a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"申请人："}},[0==e.flg.length?a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.apply,callback:function(t){e.apply=t},expression:"apply"}}):e._e(),e._v(" "),0!=e.flg.length?a("span",[e._v(e._s(e.flg))]):e._e()],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"使用人："}},[a("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:""},model:{value:e.member,callback:function(t){e.member=t},expression:"member"}})],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"状态："}},[a("el-select",{staticStyle:{width:"120px"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"已领",value:"已领"}}),e._v(" "),a("el-option",{attrs:{label:"已使用",value:"已使用"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:e.tableData,border:"","max-height":"460"}},[a("el-table-column",{attrs:{prop:"TickInfoCode",label:"券编号","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ApplyUserName",label:"申请人","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"MemberName",label:"会员","min-width":"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ObtainDate",label:"领取时间","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UsedDate",label:"使用时间","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"FxCode",label:"报单详情","min-width":"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"State",label:"状态","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.State?a("span",[e._v("已使用")]):e._e(),e._v(" "),2==t.row.State?a("span",[e._v("已领券")]):e._e()]}}])})],1)],1),e._v("\n    总共："+e._s(e.total)+"条记录\n")],1)},staticRenderFns:[]}},364:function(t,e,a){a(1753);var l=a(98)(a(1098),a(2225),"data-v-36f628b8",null);t.exports=l.exports}});