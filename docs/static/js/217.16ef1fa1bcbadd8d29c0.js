webpackJsonp([217],{1294:function(t,e,a){(t.exports=a(215)(!1)).push([t.i,".block[data-v-26a5f542]{margin-bottom:10px}",""])},1719:function(t,e,a){var i=a(1294);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(216)("367dd17f",i,!0)},2191:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"QAManage selCommon"},[i("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:a.formInline,"label-width":"90px"}},[i("el-form-item",{staticStyle:{"margin-bottom":"10px","font-size":"12px !important"},attrs:{label:"提问日期："}},[i("el-date-picker",{staticClass:"wt200",attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:a.dateForm1},model:{value:a.formInline.date1,callback:function(t){a.$set(a.formInline,"date1",t)},expression:"formInline.date1"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"提问者角色："}},[i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:a.formInline.questioner,callback:function(t){a.$set(a.formInline,"questioner",t)},expression:"formInline.questioner"}},[i("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),i("el-option",{attrs:{label:"客户",value:"客户"}}),a._v(" "),i("el-option",{attrs:{label:"代理",value:"代理"}}),a._v(" "),i("el-option",{attrs:{label:"医生",value:"医生"}}),a._v(" "),i("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"答疑医生："}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:a.formInline.doctor,callback:function(t){a.$set(a.formInline,"doctor",t)},expression:"formInline.doctor"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"点赞："}},[i("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:""},model:{value:a.formInline.PraiseCountStart,callback:function(t){a.$set(a.formInline,"PraiseCountStart",t)},expression:"formInline.PraiseCountStart"}}),a._v(" "),i("span",{staticStyle:{float:"left","margin-right":"5px"}},[a._v("-")]),a._v(" "),i("el-input",{staticStyle:{width:"92px"},attrs:{placeholder:""},model:{value:a.formInline.PraiseCountEnd,callback:function(t){a.$set(a.formInline,"PraiseCountEnd",t)},expression:"formInline.PraiseCountEnd"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"评论："}},[i("el-input",{staticStyle:{width:"92px"},attrs:{placeholder:""},model:{value:a.formInline.CommentCountStart,callback:function(t){a.$set(a.formInline,"CommentCountStart",t)},expression:"formInline.CommentCountStart"}}),a._v(" "),i("span",{staticStyle:{float:"left","margin-right":"5px"}},[a._v("-")]),a._v(" "),i("el-input",{staticStyle:{width:"92px"},attrs:{placeholder:""},model:{value:a.formInline.CommentCountEnd,callback:function(t){a.$set(a.formInline,"CommentCountEnd",t)},expression:"formInline.CommentCountEnd"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"浏览："}},[i("el-input",{staticStyle:{width:"92px"},attrs:{placeholder:""},model:{value:a.formInline.ViewsStart,callback:function(t){a.$set(a.formInline,"ViewsStart",t)},expression:"formInline.ViewsStart"}}),a._v(" "),i("span",{staticStyle:{float:"left","margin-right":"5px"}},[a._v("-")]),a._v(" "),i("el-input",{staticStyle:{width:"92px"},attrs:{placeholder:""},model:{value:a.formInline.ViewsEnd,callback:function(t){a.$set(a.formInline,"ViewsEnd",t)},expression:"formInline.ViewsEnd"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"关键字："}},[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},model:{value:a.formInline.keyWords,callback:function(t){a.$set(a.formInline,"keyWords",t)},expression:"formInline.keyWords"}})],1),a._v(" "),i("el-form-item",{staticClass:"form_item_mt10",attrs:{label:" "}},[i("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("查询")])],1)],1),a._v(" "),i("el-table",{staticClass:"smt min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"500"}},[i("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),a._v(" "),i("el-table-column",{attrs:{prop:"createDate",label:"提问日期","min-width":"150"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.createDate?i("span",[a._v(a._s(t.row.createDate.substring(0,10)))]):a._e()]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"userRealName",label:"提问者","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"roleName",label:"提问者角色","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"title",label:"问题","min-width":"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(t){return a.view(e.$index,a.tableData)}}},[a._v(a._s(e.row.title))])]}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"answers",label:"答疑医生","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(t){}}])}),a._v(" "),i("el-table-column",{attrs:{prop:"answerCount",label:"推荐回答","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"views",label:"浏览","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"praiseCount",label:"点赞","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"answerCount",label:"回答","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"status",label:"操作","min-width":"150"},scopedSlots:a._u([{key:"default",fn:function(e){return[2==e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(t){return a.setTop(e.$index,a.tableData,1)}}},[a._v("取消置顶")]):a._e(),a._v(" "),1==e.row.status||null==e.row.status?i("el-button",{attrs:{type:"text"},on:{click:function(t){return a.setTop(e.$index,a.tableData,2)}}},[a._v("置顶")]):a._e()]}}])})],1),a._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"current-page":a.currentPage[0],"page-sizes":[10,20,30,40],"page-size":a.size[0],layout:"total, sizes, prev, pager, next, jumper",total:a.total[0]},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),i("el-dialog",{attrs:{visible:a.dialogFormVisible,size:""},on:{"update:visible":function(t){a.dialogFormVisible=t}}},[i("el-form",{staticStyle:{width:"800px"},attrs:{model:a.form,inline:!0}},[i("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"提问者：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.userName)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0",attrs:{label:"问题：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.title)+"\n            ")]),a._v(" "),i("el-table",{staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData2,border:"",height:"460"}},[i("el-table-column",{attrs:{type:"index",width:"40",label:"序号"}}),a._v(" "),i("el-table-column",{attrs:{prop:"createDate",label:"评论日期","min-width":"150"}}),a._v(" "),i("el-table-column",{attrs:{prop:"userName",label:"评论者","min-width":"80"}}),a._v(" "),i("el-table-column",{attrs:{prop:"tab",label:"评论者角色","min-width":"80"}}),a._v(" "),i("el-table-column",{attrs:{prop:"content",label:"评论内容","min-width":"100"}}),a._v(" "),i("el-table-column",{attrs:{prop:"praiseCount",label:"点赞量","min-width":"70"}}),a._v(" "),i("el-table-column",{attrs:{prop:"views",label:"浏览量","min-width":"70"}}),a._v(" "),i("el-table-column",{attrs:{prop:"isStick",label:"操作","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[2==e.row.isStick?i("el-button",{attrs:{type:"text"},on:{click:function(t){return a.rec(e.$index,a.tableData2,1)}}},[a._v("取消推荐")]):a._e(),a._v(" "),1==e.row.isStick||null==e.row.isStick?i("el-button",{attrs:{type:"text"},on:{click:function(t){return a.rec(e.$index,a.tableData2,2)}}},[a._v("推荐")]):a._e()]}}])})],1),a._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{size:a.size,"current-page":a.currentPage[1],"page-sizes":[10,20,30,40],"page-size":a.size[1],layout:"total, sizes, prev, pager, next, jumper",total:a.total[1]},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)],1)],1),a._v(" "),i("el-dialog",{attrs:{visible:a.dialogFormVisible1,size:""},on:{"update:visible":function(t){a.dialogFormVisible1=t}}},[i("el-form",{staticStyle:{width:"600px"},attrs:{model:a.form,inline:!0}},[i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"提问者：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.userName)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"推荐回答用户：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.userName)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_full",attrs:{label:"提问/评论：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.title)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_full",attrs:{label:"推荐回答：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.userName)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"浏览量：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.views)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"点赞量：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.praiseCount)+"\n            ")]),a._v(" "),i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"回答量：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.answerCount)+"\n            ")]),a._v(" "),1==a.status?i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"置顶人：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.pcLastModifiedUserName)+"\n            ")]):a._e(),a._v(" "),1==a.status?i("el-form-item",{staticClass:"form_item_mt0 form_item_half",attrs:{label:"置顶时间：","label-width":"90px"}},[a._v("\n                "+a._s(a.form.pcLastModifiedDate)+"\n            ")]):a._e()],1),a._v(" "),i("div",{staticClass:"footer_ope"},[i("el-button",{on:{click:function(t){return a.ope("sure")}}},[a._v("确定")]),a._v(" "),i("el-button",{on:{click:function(t){return a.ope("cancel")}}},[a._v("取消")])],1)],1)],1)},staticRenderFns:[]}},233:function(t,e,a){a(1719);var i=a(98)(a(914),a(2191),"data-v-26a5f542",null);t.exports=i.exports},914:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(100),s=l.n(a),i=l(99),r=l.n(i),n=l(65),o=(l.n(n),l(22)),m=l(64);e.default={data:function(){return{dialogFormVisible1:!1,dialogFormVisible:!1,formInline:{date1:"",doctor:"",keyWords:"",questioner:"",startTimeF:"",endTimeF:"",PraiseCountStart:"",PraiseCountEnd:"",CommentCountStart:"",CommentCountEnd:"",ViewsStart:"",ViewsEnd:""},form:{},total:[0,0],size:[10,10],dialogMes:{},currentPage:[1,1],tableData:[],tableData2:[],questionData:[],status:""}},computed:{},mounted:function(){this.onSubmit()},methods:{setAnswerStick:function(e,a,i){var n=this;return r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.i(m._209)(e);case 3:1==t.sent.status?(n.$message({message:"置顶成功",type:"success"}),n.search(),n.tableData2[a].isStick=i,n.tableData2.push()):n.$message.error("置顶失败"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,n,[[0,7]])}))()},setQuestionStick:function(e){var a=this;return r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.i(m._210)(e);case 3:1==t.sent.status?(a.$message({message:"置顶成功",type:"success"}),a.search(),a.dialogFormVisible1=!1):a.$message.error("置顶失败"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,a,[[0,7]])}))()},getQuestionList:function(a){var i=this;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.i(m._211)(a);case 3:e=t.sent,i.total[0]=e.count,i.total.push(),i.tableData=e.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}},t,i,[[0,9]])}))()},dateForm1:function(t){t=t.formatDates(),this.formInline.startTimeF=t.substring(0,10),this.formInline.endTimeF=t.substring(13)},handleSizeChange:function(t){console.log("每页 "+t+" 条"),0==this.dialogFormVisible?this.size[0]=t:this.size[1]=t,this.size.push(),this.search()},handleCurrentChange:function(t){console.log("当前页: "+t),0==this.dialogFormVisible?this.currentPage[0]=t:this.currentPage[1]=t,this.currentPage.push(),this.search()},view:function(t,e){this.dialogFormVisible=!0,this.form=e[t],this.tableData2=e[t].answers,this.total[1]=Number(e[t].answerCount)},onSubmit:function(){this.currentPage[this.currentIndex]=1,this.search()},search:function(){this.getQuestionList({pageIndex:this.currentPage[0],pageSize:this.size[0],where:this.getConditions()})},getConditions:function(){var t=this.formInline.keyWords,e=0<t.length?"title like '%"+t+"%'":"",a="";return this.formInline.startTimeF&&(a+="CreateDate>='"+this.formInline.startTimeF+"'"),this.formInline.endTimeF&&(a+=" and CreateDate<='"+this.formInline.endTimeF+"'"),this.formInline.ViewsStart&&(a+=" and Views>='"+this.formInline.ViewsStart+"'"),this.formInline.ViewsEnd&&(a+=" and Views<='"+this.formInline.ViewsEnd+"'"),this.formInline.PraiseCountStart&&(a+="and PraiseCount>='"+this.formInline.PraiseCountStart+"'"),this.formInline.PraiseCountEnd&&(a+=" and PraiseCount<='"+this.formInline.PraiseCountEnd+"'"),this.formInline.CommentCountStart&&(a+="and CommentCount>='"+this.formInline.CommentCountStart+"'"),this.formInline.CommentCountEnd&&(a+=" and CommentCount<='"+this.formInline.CommentCountEnd+"'"),t&&(a+=" and "+e),a},setTop:function(t,e,a){this.dialogFormVisible1=!0,this.form=e[t],this.status=a},ope:function(t){"sure"==t?this.setQuestionStick({id:this.form.id,status:this.status,ModifiedUserName:l.i(o.b)("userName"),ModifiedUserId:l.i(o.b)("userId")}):this.dialogFormVisible1=!1},rec:function(t,e,a){this.setAnswerStick({id:e[t].id,status:a,ModifiedUserName:l.i(o.b)("userName"),ModifiedUserId:l.i(o.b)("userId")},t,a)}},components:{}}}});