webpackJsonp([197],{1116:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(100),s=o.n(n),a=o(99),i=o.n(a),r=o(37),l=o.n(r),c=o(64),u=(o(22),o(65));o.n(u);t.default={data:function(){return{loading:!1,options:[],optionsB:[],total:0,size:10,currentPage:1,agentList:[],formInline:{keywords:"",date1:"",startTime:"",endTime:"",rec:"",grade:"",branch:""},tableData:[],multipleSelection:[]}},computed:{tHeader:function(){return["代理编号","姓名","代理等级","联系电话","身份证号","缴纳押金","推荐人","状态"]},filterVal:function(){return["Code","BranchName","BranchGradeName","PhoneNumber","IDCard","Pledge","ReferrerName","IsEnable"]},name:function(){return"迁移记录"},tableData1:function(){var e=JSON.parse(l()(this.tableData));return e.forEach(function(e){0==e.IsEnable&&(e.IsEnable="未启用"),1==e.IsEnable&&(e.IsEnable="已启用"),2==e.IsEnable&&(e.IsEnable="退会")}),e}},mounted:function(){this.GetBranchGrade()},methods:{GetBranchByKeywords:function(n,a){var r=this;return i()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.i(c._60)(n);case 3:t=e.sent,1==a?r.optionsB=t:r.options=t,r.loading=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,r,[[0,8]])}))()},GetBranchGrade:function(){var n=this;return i()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.i(c._319)();case 3:t=e.sent,n.agentList=t,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,n,[[0,7]])}))()},GetBranchChangeLogList:function(n){var a=this;return i()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.i(c._355)(n);case 3:(t=e.sent).status&&(a.total=t.count,a.tableData=t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,a,[[0,7]])}))()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.size=e,this.search()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.search()},dateForm1:function(e){e=e.formatDates(),this.formInline.startTime=e.substring(0,10),this.formInline.endTime=e.substring(13)},search:function(){this.GetBranchChangeLogList({startDate:this.formInline.startTime,endDate:this.formInline.endTime,pageIndex:this.currentPage,pageSize:this.size,Keywords:this.formInline.keywords.removeSP()})},onSubmit:function(){this.currentPage=1,this.search()},log:function(e,t,n){this.form=t[e],this.GetChangeLog({branchCode:t[e].Code}),this.dialogOpe(n,!0)}},components:{}}},1469:function(e,t,n){(e.exports=n(215)(!1)).push([e.i,"",""])},1894:function(e,t,n){var a=n(1469);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(216)("6e7d0bb1",a,!0)},2369:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selCommon teamMigrate"},[n("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:t.formInline,"label-width":"80px"}},[n("el-form-item",{staticClass:"form_item_mt10 ",attrs:{label:"时间范围："}},[n("el-date-picker",{staticClass:"wt200",attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:t.dateForm1},model:{value:t.formInline.date1,callback:function(e){t.$set(t.formInline,"date1",e)},expression:"formInline.date1"}})],1),t._v(" "),n("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:"关键字："}},[n("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"消费商/前推荐人/后推荐人"},model:{value:t.formInline.keywords,callback:function(e){t.$set(t.formInline,"keywords",e)},expression:"formInline.keywords"}})],1),t._v(" "),n("el-form-item",{staticClass:"form_item_mt10 form_item_wh280",attrs:{label:" "}},[n("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1),t._v(" "),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px","min-height":"400px"},attrs:{data:t.tableData,"max-height":"660"}},[n("el-table-column",{attrs:{prop:"createOn",label:"变迁时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.createOn.substring(0,10))+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"branchName",label:"消费商","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.branchName?n("span",[t._v(t._s(e.row.branchName)+"["+t._s(e.row.branchCode)+"]")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"beforeRefName",label:"前推荐人","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.beforeRefName)+"\n                "),e.row.beforeRefCode?n("span",[t._v("\n                    ["+t._s(e.row.beforeRefCode)+"]\n                ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"branchGradeName",label:"","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"}},[n("i",{staticClass:"el-icon-d-arrow-right"})])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"afterRefName",label:"后推荐人","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(e.row.afterRefName)+"\n                "),e.row.afterRefCode?n("span",[t._v("\n                    ["+t._s(e.row.afterRefCode)+"]\n                ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"changeReason",label:"变迁原因","min-width":"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createBy",label:"操作人","min-width":"100"}})],1),t._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},374:function(e,t,n){n(1894);var a=n(98)(n(1116),n(2369),"data-v-8e089d70",null);e.exports=a.exports}});