webpackJsonp([54],{1062:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(100),s=o.n(a),r=o(66),c=o.n(r),l=o(102),m=o.n(l),n=o(99),u=o.n(n),i=o(65),d=(o.n(i),o(2071)),p=o.n(d),f=o(517),h=o.n(f),_=o(64);t.default={data:function(){return{detailCode:"",dialogDet:!1,loading:!1,teamMes:"",teamCount:"",bankList:[],eduList:[],industryList:[],origionList:[],gradeList:[],currentPage:1,total:0,size:10,title:"",dialogFormVisible:!1,formLabelWidth:"90px",date:"",hospitalList:[],formInline:{date1:"",date2:"",grade:"",referrerName:"",branchName:"",region:"",hospital:""},tableData:[]}},filters:{filterFun:function(e){return e&&0!=String(e).length?"["+e+"]":""}},computed:{},mounted:function(){this.getBranchGradeAll()},methods:{getBranchGradeAll:function(){var i=this;return u()(s.a.mark(function e(){var t,a,r,l,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.all([o.i(_.d)({typeId:1}),o.i(_._319)(),o.i(_._62)()]);case 3:t=e.sent,a=m()(t,3),r=a[0],l=a[1],n=a[2],i.hospitalList=r.data,i.formInline.hospital=i.hospitalList[0].code,i.gradeList=l,i.baseMesSplit(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}},e,i,[[0,14]])}))()},getBranchTeamList:function(a,r){var l=this;return u()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.i(_._402)(a);case 3:t=e.sent,l.loading=!1,r||(l.tableData=t,l.tableData.push(),0!=t.length?l.total=t[0].RecordCount:l.total=0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,l,[[0,8]])}))()},dateSelect:function(e){e.length?(e=e.formatDates(),this.formInline.date1=e.substring(0,10),this.formInline.date2=e.substring(13)):(this.formInline.date1="",this.formInline.date2=""),this.onSubmit()},onSubmit:function(){this.currentPage=1,this.getTableDate()},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.size=e,this.getTableDate()},handleCurrentChange:function(e){console.log("当前页: "+e),this.currentPage=e,this.getTableDate()},team:function(e,t){this.teamMes=t[e].Code,this.dialogFormVisible=!0,this.title=t[e].BranchName+"的团队",this.teamCount=t[e].TeamCount},baseMesSplit:function(e){var t=this;e.forEach(function(e){"0001"==e.BusinessCode&&t.eduList.push(e),"0002"==e.BusinessCode&&t.industryList.push(e),"0003"==e.BusinessCode&&t.origionList.push(e),"0004"==e.BusinessCode&&t.bankList.push(e)})},getTableDate:function(){this.loading=!0,this.getBranchTeamList({referrerName:this.formInline.referrerName.removeSP(),branchName:this.formInline.branchName.removeSP(),branchGradeCode:this.formInline.grade,sourcWayeCode:this.formInline.region,startDate:this.formInline.date1,endDate:this.formInline.date2,pageIndex:this.currentPage,pageSize:this.size,hospitalCode:this.formInline.hospital})},view:function(e){this.dialogDet=!0,this.detailCode=e.Code}},components:{teamDetail:p.a,agentDetail:h.a}}},1077:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(37),n=l.n(a),r=l(100),i=l.n(r),o=l(99),s=l.n(o),c=l(65),m=(l.n(c),l(436)),u=l.n(m),d=l(64);t.default={props:{title:"",teamMes:"",gradeList:{type:Array}},data:function(){return{grade:"",loading:!1,tableData:[],currentPage:1,total:0,size:10,teamCount:0,allData:[]}},filters:{filterFun:function(e){return e&&0!=String(e).length?"["+e+"]":""}},computed:{tHeader:function(){return["代理编号","注册日期","代理人","联系电话","身份证号","来源渠道","代理等级","缴纳会费","缴纳押金","推荐人"]},filterVal:function(){return["Code","RegistDate","BranchName","PhoneNumber","IDCard","SourcWayeCode","BranchGradeCode","grade","grade","ReferrerName"]},tableData1:function(){return this.tableData}},mounted:function(){this.search()},methods:{view:function(e){this.$emit("viewBranch",e)},getBranchGradeAll:function(){var a=this;return s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.i(d._319)();case 3:t=e.sent,a.gradeList=t,a.search(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,a,[[0,8]])}))()},GetBranchTeamDetailList:function(a){var r=this;return s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.i(d._403)(a);case 3:t=e.sent,r.loading=!1,r.total=t.length,r.allData=JSON.parse(n()(t)),r.getPage(),r.teamCount=t.length,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,r,[[0,11]])}))()},handleSizeChange:function(e){this.loading=!0,console.log("每页 "+e+" 条"),this.size=e,this.getPage()},handleCurrentChange:function(e){this.loading=!0,console.log("当前页: "+e),this.currentPage=e,this.getPage()},search:function(){this.loading=!0,this.GetBranchTeamDetailList({BranchCode:this.teamMes,BranchGradeCode:this.grade})},getPage:function(){var e=this;this.loading=!0,this.tableData=this.allData.slice((this.currentPage-1)*this.size,this.currentPage*this.size),setTimeout(function(){e.loading=!1},50)}},components:{Export:u.a}}},1507:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".block[data-v-cd74954a]{margin:20px 0 10px}.searchBtn[data-v-cd74954a]{margin-right:10px}",""])},1535:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,"",""])},1932:function(e,t,a){var r=a(1507);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("0b49dea6",r,!0)},1960:function(e,t,a){var r=a(1535);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("4662ecab",r,!0)},2071:function(e,t,a){a(1932);var r=a(98)(a(1077),a(2407),"data-v-cd74954a",null);e.exports=r.exports},2407:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"teamDetail"},[r("div",{staticStyle:{"margin-bottom":"10px",height:"40px"}},[r("span",{staticStyle:{float:"left","line-height":"46px",width:"80px"}},[a._v("人数："+a._s(a.teamCount)+"人")]),a._v(" "),r("span",{staticStyle:{float:"left","line-height":"46px","margin-left":"10px"}},[a._v("消费商等级：")]),a._v(" "),r("el-select",{model:{value:a.grade,callback:function(e){a.grade=e},expression:"grade"}},[r("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.gradeList,function(e){return r("el-option",{key:e.Code,attrs:{label:e.BranchGradeName,value:e.Code}})})],2),a._v(" "),r("el-button",{staticClass:"searchBtn",on:{click:a.search}},[a._v("搜索")]),a._v(" "),r("Export",{staticStyle:{float:"right"},attrs:{tHeader:a.tHeader,filterVal:a.filterVal,tableData1:a.tableData1,name:a.title}})],1),a._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:a.tableData,border:"",height:"460"}},[r("el-table-column",{attrs:{prop:"RegistDate",label:"注册日期",width:"110"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.RegistDate?r("span",[a._v("\n                     "+a._s(e.row.RegistDate.substring(0,10))+"\n                ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"BranchName",label:"代理人","min-width":"140"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.BranchName?r("el-button",{attrs:{type:"text"},on:{click:function(e){return a.view(t.row)}}},[a._v(a._s(t.row.BranchName)+"["+a._s(t.row.Code)+"]")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"ReferrerName",label:"推荐人","min-width":"140"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.ReferrerName?r("span",[a._v("\n                "+a._s(e.row.ReferrerName)+a._s(a._f("filterFun")(e.row.ReferrerCode))+"\n                 ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"PhoneNumber",label:"联系电话","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.PhoneNumber?r("span",[a._v(a._s(e.row.PhoneNumber.substring(0,3)+"****"+e.row.PhoneNumber.substring(7)))]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"BranchGradeName",label:"代理等级","min-width":"120"}}),a._v(" "),r("el-table-column",{attrs:{prop:"PayAmount",label:"缴纳会费","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.PayAmount?r("span",[a._v("￥"+a._s(e.row.PayAmount.toQFW()))]):a._e()]}}])})],1),a._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,40],"page-size":a.size,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},2435:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"selCommon AgentGeneal"},[r("el-form",{staticClass:"demo-form-inline form_search",attrs:{inline:!0,model:a.formInline,"label-width":"80px"}},[r("el-form-item",{staticStyle:{"margin-bottom":"10px","font-size":"12px !important"},attrs:{label:"选择时间："}},[r("el-date-picker",{attrs:{type:"daterange",placeholder:"选择日期范围"},on:{change:a.dateSelect},model:{value:a.date,callback:function(e){a.date=e},expression:"date"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"推荐人："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSubmit(e)}},model:{value:a.formInline.referrerName,callback:function(e){a.$set(a.formInline,"referrerName",e)},expression:"formInline.referrerName"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"代理人："}},[r("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.onSubmit(e)}},model:{value:a.formInline.branchName,callback:function(e){a.$set(a.formInline,"branchName",e)},expression:"formInline.branchName"}})],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"代理等级："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:a.onSubmit},model:{value:a.formInline.grade,callback:function(e){a.$set(a.formInline,"grade",e)},expression:"formInline.grade"}},[r("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.gradeList,function(e){return r("el-option",{key:e.Code,attrs:{label:e.BranchGradeName,value:e.Code}})})],2)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"医院："}},[r("el-select",{staticStyle:{width:"200px"},on:{change:a.onSubmit},model:{value:a.formInline.hospital,callback:function(e){a.$set(a.formInline,"hospital",e)},expression:"formInline.hospital"}},a._l(a.hospitalList,function(e,t){return r("el-option",{key:t,attrs:{label:e.supplierName,value:e.code}})}),1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:"来源渠道："}},[r("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:a.onSubmit},model:{value:a.formInline.region,callback:function(e){a.$set(a.formInline,"region",e)},expression:"formInline.region"}},[r("el-option",{attrs:{label:"全部",value:""}}),a._v(" "),a._l(a.origionList,function(e){return r("el-option",{key:e.DataName,attrs:{label:e.DataName,value:e.DataName}})})],2)],1),a._v(" "),r("el-form-item",{staticClass:"form_item_mt10",attrs:{label:" "}},[r("el-button",{staticClass:"searchBtn",attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("查询")])],1)],1),a._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"min_table",staticStyle:{width:"100%","margin-top":"15px","margin-bottom":"10px"},attrs:{data:a.tableData,border:"","max-height":"560"}},[r("el-table-column",{attrs:{prop:"BranchName",label:"代理人",width:"200"},scopedSlots:a._u([{key:"default",fn:function(t){return[t.row.BranchName?r("el-button",{attrs:{type:"text"},on:{click:function(e){return a.view(t.row)}}},[a._v(a._s(t.row.BranchName)+"["+a._s(t.row.Code)+"]")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"ReferrerName",label:"推荐人",width:"200"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.ReferrerName?r("span",[a._v("\n                   "+a._s(e.row.ReferrerName)+a._s(a._f("filterFun")(e.row.ReferrerCode))+"\n                ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"RegistDate",label:"注册日期","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.RegistDate?r("span",[a._v("\n                    "+a._s(e.row.RegistDate.substring(0,10))+"\n                ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"CCount",label:"直推人数",width:"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"TeamCount",label:"团队人数",width:"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[0!=t.row.TeamCount?r("el-button",{attrs:{type:"text"},on:{click:function(e){return a.team(t.$index,a.tableData)}}},[a._v(" "+a._s(t.row.TeamCount))]):r("span",[a._v("\n                    "+a._s(t.row.TeamCount)+"\n                ")])]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"PhoneNumber",label:"联系电话","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.PhoneNumber?r("span",[a._v(a._s(e.row.PhoneNumber.substring(0,3)+"****"+e.row.PhoneNumber.substring(7)))]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"SourcWayeCode",label:"来源渠道","min-width":"150"}}),a._v(" "),r("el-table-column",{attrs:{prop:"BranchGradeName",label:"代理等级",width:"150"}}),a._v(" "),r("el-table-column",{attrs:{prop:"HospitalName",label:"医院",width:"200"}}),a._v(" "),r("el-table-column",{attrs:{prop:"grade",label:"团队详情",width:"120"},scopedSlots:a._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return a.team(t.$index,a.tableData)}}},[a._v("团队详情")])]}}])})],1),a._v(" "),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":a.currentPage,"page-sizes":[10,20,30,40],"page-size":a.size,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1),a._v(" "),r("el-dialog",{attrs:{title:a.title,visible:a.dialogFormVisible,size:""},on:{"update:visible":function(e){a.dialogFormVisible=e}}},[a.dialogFormVisible?r("teamDetail",{staticStyle:{width:"1000px"},attrs:{title:a.title,teamMes:a.teamMes,gradeList:a.gradeList,teamCount:a.teamCount},on:{viewBranch:a.view}}):a._e()],1),a._v(" "),r("el-dialog",{attrs:{title:"代理详情",visible:a.dialogDet,size:"","close-on-click-modal":!1,top:"5%"},on:{"update:visible":function(e){a.dialogDet=e}}},[r("agentDetail",{ref:"detail",staticStyle:{width:"920px"},attrs:{detailCode:a.detailCode}})],1)],1)},staticRenderFns:[]}},342:function(e,t,a){a(1960);var r=a(98)(a(1062),a(2435),"data-v-ebad660e",null);e.exports=r.exports},436:function(e,t,a){a(439);var r=a(98)(a(437),a(440),"data-v-6c47323e",null);e.exports=r.exports},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{tHeader:{},filterVal:{},tableData1:{type:Array},name:""},watch:{tableData1:{handler:function(e){this.otData=e},deep:!0}},data:function(){return{otData:[]}},methods:{handleDownload:function(){var a=this;r.e(220).then(function(){var e=r(448).export_json_to_excel,t=[];t=0!=a.otData.length?a.formatJson(a.filterVal,a.otData):a.formatJson(a.filterVal,a.tableData1),e(a.tHeader,t,a.name)}.bind(null,r)).catch(r.oe)},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return t[e]})})}}}},438:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".exportBtn[data-v-6c47323e]{background:#fff;border:1px solid #d6d4d4;font-size:14px;color:#666;border-radius:4px}",""])},439:function(e,t,a){var r=a(438);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("fdf4f478",r,!0)},440:function(e,t){e.exports={render:function(){var e=this.$createElement;return(this._self._c||e)("el-button",{staticClass:"exportBtn",attrs:{type:"primary"},on:{click:this.handleDownload}},[this._v("导出报表")])},staticRenderFns:[]}},443:function(e,t,a){"use strict";t.__esModule=!0;var r,l=a(444),n=(r=l)&&r.__esModule?r:{default:r};t.default=function(e,t,a){return t in e?(0,n.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},444:function(e,t,a){e.exports={default:a(445),__esModule:!0}},445:function(e,t,a){a(446);var r=a(2).Object;e.exports=function(e,t,a){return r.defineProperty(e,t,a)}},446:function(e,t,a){var r=a(9);r(r.S+r.F*!a(10),"Object",{defineProperty:a(11).f})},510:function(e,t,a){e.exports=a.p+"static/img/person.f548a9b.jpg"},513:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(100),c=s.n(a),r=s(66),m=s.n(r),l=s(102),u=s.n(l),n=s(99),i=s.n(n),o=s(443),d=s.n(o),p=s(101),f=s(64);t.default={props:{detailCode:""},data:function(){var e;return e={dialogImg:!1,baseImgPath:p.b,fileList:[],allMes:{},integral:0,payTable:[],ticketsList:[],packageAll:[],packageVal:[],gradeList:[],tableData:[]},d()(e,"allMes",""),d()(e,"ruleForm",{grade:"",BranchName:"",Sex:"",Code:"",BranchGradeName:"",PhoneNumber:"",OldReferrerName:"",ReferrerName:""}),d()(e,"createBy",""),d()(e,"ServiceInfo",{}),e},watch:{detailCode:{handler:function(){this.getBranchGradeAll()},deep:!0},"ruleForm.grade":{handler:function(t){this.gradeList.forEach(function(e){e.Code==t&&e.OrderNum})},deep:!0}},mounted:function(){this.getBranchGradeAll()},methods:{imgShow:function(e){this.$emit("photoShow",e)},uploadImg:function(){this.dialogImg=!0},getBranchGradeAll:function(){var o=this;return i()(c.a.mark(function e(){var t,a,r,l,n,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.all([s.i(f._319)(),s.i(f._354)(),s.i(f._353)(),s.i(f._51)({branchcode:o.detailCode})]);case 3:t=e.sent,a=u()(t,4),r=a[0],l=a[1],n=a[2],i=a[3],o.gradeList=r,o.packageAll=l,o.ticketsList=n,o.getBranchByCode(i),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,o,[[0,15]])}))()},getBranchByCode:function(e){this.fileList=e.CommonPhotoList,this.allMes=e,this.ServiceInfo=e.ServiceInfo?e.ServiceInfo:{},this.copyWorth(e.Branch),this.tableData=e.CPOList,this.payTable=e.BranchOrderPayList.filter(function(e){if(1==e.ItemType||4==e.ItemType)return e})},copyWorth:function(e){for(var t in e)e[t]&&"null"!=e[t]&&null!=e[t]&&"undefined"!=e[t]||(e[t]="");this.allMes=e,this.ruleForm.Sex=this.getSex(e.Sex),this.ruleForm.Code=e.Code,this.ruleForm.BranchName=e.BranchName,this.ruleForm.BranchGradeName=this.getGradeName(e.BranchGradeCode),this.ruleForm.PhoneNumber=e.PhoneNumber,this.ruleForm.SourcWayeCode=e.SourcWayeCode,this.ruleForm.RegistDate=e.RegistDate.substring(0,10),this.ruleForm.ReferrerName=e.ReferrerName,this.ruleForm.OpenBankName=e.OpenBankName,this.ruleForm.OpenBankCode=e.OpenBankCode,this.ruleForm.Income=e.Income,this.ruleForm.IDCard=e.IDCard,this.ruleForm.Email=e.Email,this.ruleForm.BankCardId=e.BankCardId,this.ruleForm.Birthday=e.Birthday,this.ruleForm.BankCardHolder=e.BankCardHolder,this.ruleForm.Address=e.Province+e.City+e.Area+e.Address.split(",").join(""),this.ruleForm.hospital=e.HospitalName,this.ruleForm.OldReferrerName=e.OldReferrerName?e.OldReferrerName:"",this.packageVal=this.packNamTurn(e.ConPackage),this.createBy=e.CreateBy},getSex:function(e){return e?1==e?"男":"女":""},getGradeName:function(t){var a="",r=[],l="";return this.gradeList.forEach(function(e){e.Code==t&&(a=e.BranchGradeName,l=e.OrderNum)}),this.gradeList.forEach(function(e){e.OrderNum<l&&r.push(e)}),this.gradeList=r,a},packNamTurn:function(e){for(var t=e.split(","),a=[],r=0;r<t.length;r++)for(var l=0;l<this.packageAll.length;l++)t[r]==this.packageAll[l].ConPacCode&&(a.push(this.packageAll[l].ConPacName),this.integral+=this.packageAll[l].JifenRecharge);return a}},components:{}}},514:function(e,t,a){(e.exports=a(215)(!1)).push([e.i,".clear[data-v-33b7c139]{clear:both}.pic[data-v-33b7c139]{width:60px;height:60px;border-radius:30px;overflow:hidden;background:url("+a(510)+") 50%;background-size:100%}.form_item_half[data-v-33b7c139]{width:48%;margin-bottom:0}.upGrade[data-v-33b7c139]{height:750px;overflow-x:hidden;overflow-y:auto}.mes[data-v-33b7c139]{margin-left:20px;line-height:26px}.imgList[data-v-33b7c139]{width:100px;height:100px;border:1px dashed #c0ccda;display:inline-block;border-radius:6px;margin-right:5px;position:relative}.layer[data-v-33b7c139]{position:absolute;top:0;left:0;z-index:2;width:100%;height:100px;background-color:rgba(0,0,0,.3);text-align:center;line-height:100px;opacity:0;color:#fff;border:none}.imgShow[data-v-33b7c139]{width:100px;height:100px}.imgList:hover .layer[data-v-33b7c139]{opacity:1}.view[data-v-33b7c139]{cursor:pointer}",""])},515:function(e,t,a){var r=a(514);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(216)("06166ec1",r,!0)},517:function(e,t,a){a(515);var r=a(98)(a(513),a(519),"data-v-33b7c139",null);e.exports=r.exports},519:function(e,t){e.exports={render:function(){var a=this,e=a.$createElement,r=a._self._c||e;return r("div",{staticClass:"upGrade"},[r("div",{staticClass:"clear"},[a._m(0),a._v(" "),r("div",{staticClass:"mes left"},[r("span",{},[a._v(a._s(a.ruleForm.BranchName)+"  "+a._s(a.ruleForm.Sex))]),r("br"),a._v(" "),r("span",[a._v("代理编号："+a._s(a.ruleForm.Code))]),a._v("   \n            "),r("span",[a._v("代理等级："+a._s(a.ruleForm.BranchGradeName)+"  手机号码："+a._s(a.ruleForm.PhoneNumber))]),a._v("  \n            "),r("span",[a._v("创建人："+a._s(a.createBy))]),a._v("   \n        ")])]),a._v(" "),r("div",{staticClass:"clear",staticStyle:{"margin-top":"20px"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:a.ruleForm,inline:!0,"label-width":"110px"}},[r("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:""}},[r("span",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[a._v("代理详情")])]),a._v(" "),r("el-col",{staticStyle:{background:"#F2F2F2"},attrs:{span:24}},[r("el-form-item",{staticClass:"form_item_half",attrs:{label:"注册时间："}},[r("span",[a._v(a._s(a.ruleForm.RegistDate))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"邮箱："}},[r("span",[a._v(a._s(a.ruleForm.Email))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"地区："}},[r("span",[a._v(a._s(a.ruleForm.Address))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"来源渠道："}},[r("span",[a._v(a._s(a.ruleForm.SourcWayeCode))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"身份证号："}},[r("span",[a._v(a._s(a.ruleForm.IDCard))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"卡号："}},[r("span",[a._v(a._s(a.allMes.CardNO))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"生日："}},[r("span",[a._v(a._s(a.ruleForm.Birthday))])]),a._v(" "),0<a.ruleForm.ReferrerName.length?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"推荐人："}},[r("span",[a._v(a._s(a.ruleForm.ReferrerName))])]):a._e(),a._v(" "),0<a.ruleForm.OldReferrerName.length?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"前推荐人："}},[r("span",[a._v(a._s(a.ruleForm.OldReferrerName))])]):a._e(),a._v(" "),2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"服务商："}},[a.ServiceInfo.ServiceInfoName?r("span",[a._v(a._s(a.ServiceInfo.ServiceInfoName)+"（"+a._s(a.ServiceInfo.PhoneNumber)+"）")]):a._e()]):a._e(),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"医院："}},[r("span",[a._v(a._s(a.ruleForm.hospital))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"代理类型："}},[1==a.allMes.BranchType?r("span",[a._v("个人")]):a._e(),a._v(" "),2==a.allMes.BranchType?r("span",[a._v("店铺")]):a._e()]),a._v(" "),2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"店铺："}},[0<a.allMes.ShopName.length?r("span",[a._v(a._s(a.allMes.ShopName))]):a._e(),a._v(" "),r("span",[a._v(a._s(a.allMes.ShopArea)+"m²")])]):a._e(),a._v(" "),2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"凭证："}},[r("el-button",{attrs:{size:"small"},on:{click:a.uploadImg}},[a._v("查看图片")])],1):a._e(),a._v(" "),2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"专家日提成：",prop:""}},[0==a.allMes.IsExpert?r("span",[a._v("无")]):a._e(),a._v(" "),1==a.allMes.IsExpert?r("span",[a._v("有")]):a._e()]):a._e(),a._v(" "),1==a.allMes.IsExpert&&2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"生效时间："}},[a.allMes.ShopEffectiveDate?r("span",[a._v(a._s(a.allMes.ShopEffectiveDate.substring(0,10)))]):a._e()]):a._e(),a._v(" "),1==a.allMes.IsExpert&&2==a.allMes.BranchType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"专家日提成比例："}},[a.allMes.ExpertRate?r("span",[a._v(a._s(a.allMes.ExpertRate.mul(100))+"%")]):a._e()]):a._e(),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"策略："}},[1==a.allMes.IdentityType?r("span",[a._v("新策略")]):a._e(),a._v(" "),2==a.allMes.IdentityType?r("span",[a._v("老策略")]):a._e()]),a._v(" "),1==a.allMes.IdentityType?r("el-form-item",{staticClass:"form_item_half",attrs:{label:"订单号："}},[1==a.allMes.IdentityType?r("span",[a._v(a._s(a.allMes.FormNO))]):a._e()]):a._e()],1),a._v(" "),r("el-form-item",{staticStyle:{width:"100%","margin-bottom":"0px"},attrs:{label:""}},[r("span",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[a._v("组合信息")])]),a._v(" "),r("el-col",{staticStyle:{background:"#F2F2F2","padding-top":"10px"},attrs:{span:24}},[r("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"套餐内容："}},[r("el-row",a._l(a.packageVal,function(e,t){return r("span",{key:t,staticStyle:{"margin-right":"20px"}},[a._v(a._s(e))])}),0)],1),a._v(" "),r("el-form-item",{staticStyle:{width:"100%","margin-bottom":"0px"},attrs:{label:"卡券："}},[r("el-table",{ref:"singleTable",staticStyle:{width:"750px"},attrs:{data:a.tableData,border:"","highlight-current-row":""}},[r("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ConPacName",label:"套餐名称","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"TickInfoCode",label:"券种编号","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"TickName",label:"券名称","min-width":"120"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Price",label:"面值","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"EndDate",label:"有效期","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[""!=e.row.PrdOfVal&&null!=e.row.PrdOfVal?r("span",[a._v(" "+a._s("售后"+e.row.PrdOfVal+"天"))]):r("div",[r("p",[a._v("开始："+a._s(e.row.StartDate&&e.row.StartDate.substr(0,10))+" ")]),a._v(" "),r("p",[a._v("结束："+a._s(e.row.EndDate&&e.row.EndDate.substr(0,10))+" ")])])]}}])})],1)],1),a._v(" "),r("el-form-item",{staticClass:"form_item",attrs:{label:"积分："}},[r("span",[a._v(a._s(a.integral))])])],1),a._v(" "),r("el-form-item",{staticStyle:{"margin-bottom":"0px",width:"100%"},attrs:{label:""}},[r("span",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[a._v("银行信息")])]),a._v(" "),r("el-col",{staticStyle:{background:"#F2F2F2","padding-top":"10px"},attrs:{span:24}},[r("el-form-item",{staticClass:"form_item_half",attrs:{label:"银行："}},[r("span",[a._v(a._s(a.ruleForm.OpenBankCode))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"开户支行："}},[r("span",[a._v(a._s(a.ruleForm.OpenBankName))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"银行卡号："}},[r("span",[a._v(a._s(a.ruleForm.BankCardId))])]),a._v(" "),r("el-form-item",{staticClass:"form_item_half",attrs:{label:"开户人："}},[r("span",[a._v(a._s(a.ruleForm.BankCardHolder))])])],1),a._v(" "),r("el-form-item",{staticStyle:{width:"100%",margin:"0"},attrs:{label:"","label-width":"70px"}},[r("span",{staticStyle:{"font-weight":"bold","font-size":"16px"}},[a._v("支付信息")])]),a._v(" "),r("el-col",{staticStyle:{background:"#F2F2F2","padding-top":"10px"},attrs:{span:24}},[r("el-form-item",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:" ","label-width":"50px"}},[r("el-table",{ref:"singleTable",staticStyle:{width:"800px"},attrs:{data:a.payTable,border:""}},[r("el-table-column",{attrs:{prop:"PayTypeName","min-width":"100",label:"支付方式"}}),a._v(" "),r("el-table-column",{attrs:{prop:"PayDate",label:"支付日期","min-width":"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[e.row.PayDate?r("span",[a._v("\n                                    "+a._s(e.row.PayDate.substring(0,10))+" "+a._s(e.row.PayDate.substring(11,19))+"\n                                ")]):a._e()]}}])}),a._v(" "),r("el-table-column",{attrs:{prop:"ReceiveAccount",label:"收款账户","min-width":"100"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ProcFee",label:"手续费","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"ItemDetail",label:"来源","min-width":"80"}}),a._v(" "),r("el-table-column",{attrs:{prop:"Memo",label:"备注","min-width":"100","show-overflow-tooltip":""}}),a._v(" "),r("el-table-column",{attrs:{prop:"RealAmount",label:"实际金额","min-width":"100"},scopedSlots:a._u([{key:"default",fn:function(e){return[a._v("\n                                "+a._s(e.row.RealAmount.toQFW())+"\n                            ")]}}])})],1)],1)],1)],1)],1),a._v(" "),r("el-dialog",{attrs:{title:"凭证图片",visible:a.dialogImg,modal:!1,size:""},on:{"update:visible":function(e){a.dialogImg=e}}},[r("div",{staticStyle:{width:"650px"}},a._l(a.fileList,function(t){return r("div",{key:t.Id,staticClass:"imgList"},[r("img",{staticClass:"imgShow",attrs:{src:a.baseImgPath+t.ImgUrl,alt:""}}),a._v(" "),r("div",{staticClass:"layer"},[r("i",{staticClass:"el-icon-view view",on:{click:function(e){return a.imgShow(a.baseImgPath+t.ImgUrl)}}})])])}),0)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pic left"},[t("img",{attrs:{src:"",alt:""}})])}]}}});